<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>R Data Manipulation | Pinsflora</title><meta name="keywords" content="Stats,Data Manipulation"><meta name="author" content="Joaxin"><meta name="copyright" content="Joaxin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="R的基本数据处理">
<meta property="og:type" content="article">
<meta property="og:title" content="R Data Manipulation">
<meta property="og:url" content="https://u.pinsflora.xyz/Reverie/html/R_stats_mData/index.html">
<meta property="og:site_name" content="Pinsflora">
<meta property="og:description" content="R的基本数据处理">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_datamm_cover_kids_two_writing_cover.jpg">
<meta property="article:published_time" content="2018-01-20T16:00:00.000Z">
<meta property="article:modified_time" content="2018-04-20T16:00:00.000Z">
<meta property="article:author" content="Joaxin">
<meta property="article:tag" content="Stats">
<meta property="article:tag" content="Data Manipulation">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_datamm_cover_kids_two_writing_cover.jpg"><link rel="shortcut icon" href="/img/favicon-32x32.png"><link rel="canonical" href="https://u.pinsflora.xyz/Reverie/html/R_stats_mData/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-177831205-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-177831205-1');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":600,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2018-04-21 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Pinsflora" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://avatars2.githubusercontent.com/u/8346164?s=460&amp;v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">340</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">110</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">34</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Galleries"><i class="fa-fw /gallery/"></i><span> 0</span></a></li><li><a class="site-page child" href="/Movie"><i class="fa-fw /movies/"></i><span> 1</span></a></li><li><a class="site-page child" href="/Games"><i class="fa-fw /games/"></i><span> 2</span></a></li><li><a class="site-page child" href="/Tools"><i class="fa-fw /tools/"></i><span> 3</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_datamm_cover_kids_two_writing_cover.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Pinsflora</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Galleries"><i class="fa-fw /gallery/"></i><span> 0</span></a></li><li><a class="site-page child" href="/Movie"><i class="fa-fw /movies/"></i><span> 1</span></a></li><li><a class="site-page child" href="/Games"><i class="fa-fw /games/"></i><span> 2</span></a></li><li><a class="site-page child" href="/Tools"><i class="fa-fw /tools/"></i><span> 3</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">R Data Manipulation</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2018-01-20T16:00:00.000Z" title="Created 2018-01-21 00:00:00">2018-01-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2018-04-20T16:00:00.000Z" title="Updated 2018-04-21 00:00:00">2018-04-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/R/">R</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/R/Stats/">Stats</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">4.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>27min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="R Data Manipulation"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container">

<div class="toc" id="TOC">
<ul>
<li><a href="#datasets">数据集(Datasets)</a><ul>
<li><a href="#iris">Iris</a></li>
</ul></li>
<li><a href="#converting-data-between-wide-and-long-">Converting data between wide and long (长宽数据转换)</a><ul>
<li><a href="#wide-to-long-fromat">Wide to Long fromat(宽转长)</a><ul>
<li><a href="#tidyr">Tidyr</a></li>
<li><a href="#reshape2">Reshape2</a></li>
</ul></li>
<li><a href="#long-to-wide-fromat">Long to Wide fromat(长转宽)</a><ul>
<li><a href="#find-duplicated-rows">Find duplicated rows</a></li>
<li><a href="#tidyr-1">Tidyr</a></li>
<li><a href="#reshape2-1">Reshape2</a></li>
</ul></li>
</ul></li>
<li><a href="#merging-data">Merging data</a></li>
<li><a href="#dplyr">Dplyr</a><ul>
<li><a href="#ordering-data">Ordering data</a></li>
<li><a href="#recoding-data">Recoding data</a></li>
<li><a href="#select-filter-mutate">Select &amp; Filter &amp; mutate</a></li>
<li><a href="#summarise">Summarise</a><ul>
<li><a href="#basic">Basic</a></li>
<li><a href="#putting-some-nas">Putting some NAs</a></li>
</ul></li>
<li><a href="#keep-rownames-in-dplyr">Keep rownames in dplyr</a></li>
</ul></li>
<li><a href="#pipeliningchaining">Pipelining(chaining)</a></li>
<li><a href="#references">REFERENCES</a></li>
</ul>
</div>
<div id="content-wrapper">
<div class="inner clearfix">
<section id="main-content">
<div class="section level1" id="datasets">
<h1>数据集(Datasets)</h1>
<div class="section level2" id="iris">
<h2>Iris</h2>
<p>Iris数据集是著名的分类实验数据集，由Fisher或Anderson于1936收集整理. 该数据集由3种不同类型的鸢尾花的构成，各50个样本。<br>
其中的一个种类与另外两个种类是线性可分离的，后两个种类是非线性可分离的。</p>
<p>该数据集包含 了5个属性：</p>
<ul>
<li>Sepal.Length（花萼长度）</li>
<li>Sepal.Width（花萼宽度）</li>
<li>Petal.Length（花瓣长度）</li>
<li>Petal.Width（花瓣宽度）</li>
<li>Species(种类)：Setosa（山鸢尾）、Versicolour（杂色鸢尾），Virginica（维吉尼亚鸢尾）</li>
</ul>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">rbind</span>(<span class="keyword">head</span>(iris,<span class="number">5</span>) , <span class="keyword">tail</span>(iris,<span class="number">5</span>))</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##     Sepal.Length Sepal.Width Petal.Length Petal.Width   Species
## 1            5.1         3.5          1.4         0.2    setosa
## 2            4.9         3.0          1.4         0.2    setosa
## 3            4.7         3.2          1.3         0.2    setosa
## 4            4.6         3.1          1.5         0.2    setosa
## 5            5.0         3.6          1.4         0.2    setosa
## 146          6.7         3.0          5.2         2.3 virginica
## 147          6.3         2.5          5.0         1.9 virginica
## 148          6.5         3.0          5.2         2.0 virginica
## 149          6.2         3.4          5.4         2.3 virginica
## 150          5.9         3.0          5.1         1.8 virginica</pre></td></tr></tbody></table></figure>
</div>
</div>
<div class="section level1" id="converting-data-between-wide-and-long-">
<h1>Converting data between wide and long (长宽数据转换)</h1>
<p>长数据(Long Format)的变量不是在各个列上, 而是拍成一列, 每一个变量都分别占其中的几行, 这样便于对每个变量分组, R偏向于使用长数据。</p>
<p>宽数据(Wide Format)的变量则由每一列表示，比如常见的<code>excel</code>，<code>spss</code>等。</p>
<p>tidyr中<code>gather()</code>和<code>spread()</code>能够聚集(gather)和伸展(spread)数据框中的数据。</p>
<p>reshape2中<code>melt()</code>和<code>cast()</code>能够灵活的融合(melt)和重铸(cast，dcast)数据框中的数据。</p>
<p>R中自带的<code>reshape()</code>,<code>stack()</code>和<code>unstack()</code>也可以实现, 不过微繁, 这里不加赘述</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">library</span>(reshape2)
<span class="keyword">library</span>(tidyr)
<span class="keyword">library</span>(dplyr)
<span class="keyword">library</span>(ggplot2)</pre></td></tr></tbody></table></figure>
<div class="section level2" id="wide-to-long-fromat">
<h2>Wide to Long fromat(宽转长)</h2>
<div class="section level3" id="tidyr">
<h3>Tidyr</h3>
<p>gather(data, key = “key”, value = “value”, …, na.rm = FALSE, convert = FALSE, factor_key = FALSE)</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## factor_key : Treat the new key column as a factor (instead of character vector)
long_iris &lt;-<span class="string"> </span><span class="keyword">gather</span>(iris, Attributes, Measurement,
                    Sepal.Length<span class="string">:</span>Petal.Width, 
                    <span class="dt">factor_key =</span> T)

## These would have the same result as above
<span class="comment"># long_iris &lt;- iris %&gt;% gather(Attributes,Measurement,Sepal.Length:Petal.Width,factor_key = T)</span>
<span class="comment"># long_iris &lt;- gather(iris,Attributes,Measurement,-Species,factor_key = T)</span>
<span class="comment"># long_iris &lt;- gather(iris,"Attributes","Measurement",colnames(iris)[1:4],factor_key = T)</span>
<span class="comment"># long_iris &lt;- gather(iris,Attributes,Measurement,Sepal.Length,Sepal.Width,Petal.Length,Petal.Width,factor_key = T)</span></pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##       Species   Attributes Measurement
## 1      setosa Sepal.Length         5.1
## 2      setosa Sepal.Length         4.9
## 3      setosa Sepal.Length         4.7
## 4      setosa Sepal.Length         4.6
## 5      setosa Sepal.Length         5.0
## 596 virginica  Petal.Width         2.3
## 597 virginica  Petal.Width         1.9
## 598 virginica  Petal.Width         2.0
## 599 virginica  Petal.Width         2.3
## 600 virginica  Petal.Width         1.8</pre></td></tr></tbody></table></figure>
</div>
<div class="section level3" id="reshape2">
<h3>Reshape2</h3>
<p>melt(data, …, na.rm = FALSE, value.name = “value”)</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">long_iris  &lt;-<span class="string"> </span><span class="keyword">melt</span>(iris,
        <span class="comment"># ID variables - all the variables to keep</span>
    <span class="dt">id.vars =</span> <span class="keyword">colnames</span>(iris)[<span class="number">5</span>],
        <span class="comment"># The split columns</span>
    <span class="dt">measure.vars =</span> <span class="keyword">colnames</span>(iris)[<span class="number">1</span><span class="string">:</span><span class="number">4</span>],
        <span class="comment"># Name of the destination column</span>
    <span class="dt">variable.name=</span><span class="string">"Attributes"</span>,
    <span class="dt">value.name=</span><span class="string">"Measurement"</span>
)
## This would have the same result as above
<span class="comment"># long_iris  &lt;- melt(iris, "Species", variable.name = "Attributes",vaule.name = "Measurement")</span></pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##       Species   Attributes Measurement
## 1      setosa Sepal.Length         5.1
## 2      setosa Sepal.Length         4.9
## 3      setosa Sepal.Length         4.7
## 4      setosa Sepal.Length         4.6
## 5      setosa Sepal.Length         5.0
## 596 virginica  Petal.Width         2.3
## 597 virginica  Petal.Width         1.9
## 598 virginica  Petal.Width         2.0
## 599 virginica  Petal.Width         2.3
## 600 virginica  Petal.Width         1.8</pre></td></tr></tbody></table></figure>
</div>
</div>
<div class="section level2" id="long-to-wide-fromat">
<h2>Long to Wide fromat(长转宽)</h2>
<p>宽数据的列顺序由变量的<code>factor levels</code>决定</p>
<p>如果你的数据有<code>duplicated row</code>, 需建立索引</p>
<p>显然<code>long_iris</code>含有<code>duplicated rows</code></p>
<div class="section level3" id="find-duplicated-rows">
<h3>Find duplicated rows</h3>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">long_iris1 &lt;-<span class="string"> </span>long_iris[<span class="string">!</span><span class="keyword">duplicated</span>(long_iris),]
long_iris2 &lt;-<span class="string"> </span><span class="keyword">unique</span>(long_iris)

<span class="keyword">identical</span>(long_iris1, long_iris2)
<span class="comment"># TRUE</span>
<span class="keyword">dim</span>(long_iris1)
<span class="comment"># 175   3</span></pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 10 x 4
##    rowname Species   Attributes   Measurement
##  * &lt;fct&gt;   &lt;fct&gt;     &lt;fct&gt;              &lt;dbl&gt;
##  1 1       setosa    Sepal.Length        5.10
##  2 2       setosa    Sepal.Length        4.90
##  3 3       setosa    Sepal.Length        4.70
##  4 4       setosa    Sepal.Length        4.60
##  5 5       setosa    Sepal.Length        5.00
##  6 565     virginica Petal.Width         2.40
##  7 566     virginica Petal.Width         2.30
##  8 570     virginica Petal.Width         1.50
##  9 580     virginica Petal.Width         1.60
## 10 585     virginica Petal.Width         1.40</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## OR using dplyr
<span class="keyword">library</span>(dplyr)
long_iris3 &lt;-<span class="string"> </span>long_iris <span class="string">%&gt;%</span>
<span class="string">    </span><span class="keyword">distinct</span>()
##==
<span class="comment"># long_iris %&gt;%</span>
<span class="comment">#     distinct(Species, Attributes, Measurement, .keep_all = TRUE)</span></pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 10 x 4
##    rowname Species   Attributes   Measurement
##  * &lt;fct&gt;   &lt;fct&gt;     &lt;fct&gt;              &lt;dbl&gt;
##  1 1       setosa    Sepal.Length        5.10
##  2 2       setosa    Sepal.Length        4.90
##  3 3       setosa    Sepal.Length        4.70
##  4 4       setosa    Sepal.Length        4.60
##  5 5       setosa    Sepal.Length        5.00
##  6 171     virginica Petal.Width         2.40
##  7 172     virginica Petal.Width         2.30
##  8 173     virginica Petal.Width         1.50
##  9 174     virginica Petal.Width         1.60
## 10 175     virginica Petal.Width         1.40</pre></td></tr></tbody></table></figure>
<p><strong>Note</strong>: all dplyr methods ignore rownames</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">all.equal</span>(long_iris1, long_iris3)
<span class="comment"># "Attributes: &lt; Component “row.names”: Mean relative difference: 0.6602903 "</span></pre></td></tr></tbody></table></figure>
</div>
<div class="section level3" id="tidyr-1">
<h3>Tidyr</h3>
<p>spread(data, key, value, fill = NA, convert = FALSE, drop = TRUE, sep = NULL)</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment"># wide_iris &lt;- spread(long_iris,Attributes,Measurement) </span>
## ERROR! duplicate identifiers for rows
## To build indices

long_iris<span class="string">$</span>index &lt;-<span class="string"> </span><span class="keyword">rep</span>(<span class="number">1</span><span class="string">:</span><span class="number">150</span>,<span class="number">4</span>)
wide_iris &lt;-<span class="string"> </span><span class="keyword">spread</span>(long_iris, Attributes, Measurement)
wide_iris &lt;-<span class="string"> </span>wide_iris[,<span class="keyword">c</span>(<span class="number">3</span><span class="string">:</span><span class="number">6</span>,<span class="number">1</span>)]

<span class="keyword">identical</span>(wide_iris,iris)
<span class="comment"># TRUE</span></pre></td></tr></tbody></table></figure>
</div>
<div class="section level3" id="reshape2-1">
<h3>Reshape2</h3>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment"># wide_iris &lt;- dcast(long_iris, Species ~ Attributes, value.var="Measurement") </span>
## ERROR！Aggregation function missing: defaulting to length

## Try fun.aggregate
wide_iris &lt;-<span class="string"> </span><span class="keyword">dcast</span>(long_iris, Species <span class="string">~</span><span class="string"> </span>Attributes, <span class="dt">value.var=</span><span class="string">"Measurement"</span>,<span class="dt">fun.aggregate=</span><span class="cf">function</span>(x) <span class="keyword">toString</span>(<span class="keyword">unique</span>(x)))</pre></td></tr></tbody></table></figure>
<div class="figure">
<img src="data:image/png;base64,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">
</div>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">wide_iris &lt;-<span class="string"> </span><span class="keyword">dcast</span>(long_iris, Species <span class="string">+</span><span class="string"> </span>index <span class="string">~</span><span class="string"> </span>Attributes, <span class="dt">value.var=</span><span class="string">"Measurement"</span>) 
wide_iris &lt;-<span class="string"> </span>wide_iris[,<span class="keyword">c</span>(<span class="number">3</span><span class="string">:</span><span class="number">6</span>,<span class="number">1</span>)]
<span class="keyword">identical</span>(wide_iris,iris)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## [1] TRUE</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment"># TRUE</span></pre></td></tr></tbody></table></figure>
</div>
</div>
</div>
<div class="section level1" id="merging-data">
<h1>Merging data</h1>
<p>Merge two data frames by common columns or row names</p>
<p>merge(x, y, by = intersect(names(x), names(y)), by.x = by, by.y = by, all = FALSE, all.x = all, all.y = all, sort = TRUE, suffixes = c(“.x”,“.y”), incomparables = NULL, …)</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment"># Make up some data</span>
animals &lt;-<span class="string"> </span><span class="keyword">read.table</span>(<span class="dt">header=</span>T, <span class="dt">text=</span><span class="string">'</span>
<span class="string">                      size  type  name</span>
<span class="string">                      small  cat  Dragen-Li</span>
<span class="string">                      small  cat  lynx</span>
<span class="string">                      big  cat  tiger</span>
<span class="string">                      small  dog  chihuahua</span>
<span class="string">                      big  dog  "great dane"</span>
<span class="string">                      middle  dog  "siberian husky"</span>
<span class="string">                      small  dog  dachshund</span>
<span class="string">                      big  dog  "chinese kunmin"</span>
<span class="string">                      small  dig  "shetland sheepdog"</span>
<span class="string">                      big   dog  "German Shepherd"</span>
<span class="string">                      '</span>)

observations &lt;-<span class="string"> </span><span class="keyword">read.table</span>(<span class="dt">header=</span>T, <span class="dt">text=</span><span class="string">'</span>
<span class="string">                           number  size type  name</span>
<span class="string">                           1  big  cat  tiger</span>
<span class="string">                           2  small  dog  dachshund</span>
<span class="string">                           3  small  dog  chihuahua</span>
<span class="string">                           4  big  dog  "chinese kunmin"</span>
<span class="string">                           5  middle dog poodle</span>
<span class="string">                           6  big  dog  samoyed</span>
<span class="string">                           7  middle  dog  "chow chow"</span>
<span class="string">                           8  small  dog  papillon</span>
<span class="string">                           '</span>)

<span class="keyword">merge</span>(observations, animals)
## These results are equal
<span class="comment"># merge(animals, observations)</span>
<span class="comment"># merge(observations, animals,by=c("size","type","name"))</span>

<span class="comment">#    size type           name number</span>
<span class="comment"># 1   big  cat          tiger      1</span>
<span class="comment"># 2   big  dog chinese kunmin      4</span>
<span class="comment"># 3 small  dog      chihuahua      3</span>
<span class="comment"># 4 small  dog      dachshund      2</span></pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">merge</span>(observations, animals,<span class="dt">by.x=</span><span class="string">"name"</span>,<span class="dt">by.y=</span><span class="string">"name"</span>)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##             name number size.x type.x size.y type.y
## 1      chihuahua      3  small    dog  small    dog
## 2 chinese kunmin      4    big    dog    big    dog
## 3      dachshund      2  small    dog  small    dog
## 4          tiger      1    big    cat    big    cat</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">merge</span>(observations, animals,<span class="dt">by.x=</span><span class="string">"name"</span>,<span class="dt">by.y=</span><span class="string">"name"</span>,<span class="dt">all.x=</span>T)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##             name number size.x type.x size.y type.y
## 1      chihuahua      3  small    dog  small    dog
## 2 chinese kunmin      4    big    dog    big    dog
## 3      chow chow      7 middle    dog   &lt;NA&gt;   &lt;NA&gt;
## 4      dachshund      2  small    dog  small    dog
## 5       papillon      8  small    dog   &lt;NA&gt;   &lt;NA&gt;
## 6         poodle      5 middle    dog   &lt;NA&gt;   &lt;NA&gt;
## 7        samoyed      6    big    dog   &lt;NA&gt;   &lt;NA&gt;
## 8          tiger      1    big    cat    big    cat</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">merge</span>(observations, animals,<span class="dt">by.x=</span><span class="string">"name"</span>,<span class="dt">by.y=</span><span class="string">"name"</span>,<span class="dt">all.x=</span>T,<span class="dt">sort=</span><span class="ot">FALSE</span>)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##             name number size.x type.x size.y type.y
## 1          tiger      1    big    cat    big    cat
## 2      dachshund      2  small    dog  small    dog
## 3      chihuahua      3  small    dog  small    dog
## 4 chinese kunmin      4    big    dog    big    dog
## 5         poodle      5 middle    dog   &lt;NA&gt;   &lt;NA&gt;
## 6        samoyed      6    big    dog   &lt;NA&gt;   &lt;NA&gt;
## 7      chow chow      7 middle    dog   &lt;NA&gt;   &lt;NA&gt;
## 8       papillon      8  small    dog   &lt;NA&gt;   &lt;NA&gt;</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">merge</span>(observations, animals, <span class="dt">all=</span>T)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##      size type              name number
## 1     big  cat             tiger      1
## 2     big  dog    chinese kunmin      4
## 3     big  dog           samoyed      6
## 4     big  dog   German Shepherd     NA
## 5     big  dog        great dane     NA
## 6  middle  dog         chow chow      7
## 7  middle  dog            poodle      5
## 8  middle  dog    siberian husky     NA
## 9   small  cat         Dragen-Li     NA
## 10  small  cat              lynx     NA
## 11  small  dog         chihuahua      3
## 12  small  dog         dachshund      2
## 13  small  dog          papillon      8
## 14  small  dig shetland sheepdog     NA</pre></td></tr></tbody></table></figure>
</div>
<div class="section level1" id="dplyr">
<h1>Dplyr</h1>
<p><code>dplyr</code> provides a flexible grammar of data manipulation. It’s the next iteration of <code>plyr</code>, focused on tools for working with data frames (hence the d in the name).</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">df &lt;-<span class="string"> </span>iris

## dplyr approach: better formatting, and adapts to your screen width
<span class="keyword">glimpse</span>(df)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## Observations: 150
## Variables: 5
## $ Sepal.Length &lt;dbl&gt; 5.1, 4.9, 4.7, 4.6, 5.0, 5.4, 4.6, 5.0, 4.4, 4.9,...
## $ Sepal.Width  &lt;dbl&gt; 3.5, 3.0, 3.2, 3.1, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1,...
## $ Petal.Length &lt;dbl&gt; 1.4, 1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5,...
## $ Petal.Width  &lt;dbl&gt; 0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1,...
## $ Species      &lt;fct&gt; setosa, setosa, setosa, setosa, setosa, setosa, s...</pre></td></tr></tbody></table></figure>
<div class="section level2" id="ordering-data">
<h2>Ordering data</h2>
<p>To reverse the direction of a particular column, the method depends on the data type:</p>
<ul>
<li><p>Numbers: put a <code>-</code> in front of the variable name, e.g. <code>df[ order(-df$weight), ]</code>.</p></li>
<li><p>Factors: convert to integer and put a <code>-</code> in front of the variable name, e.g. <code>df[ order(-xtfrm(df$size)), ]</code>.</p></li>
<li><p>Characters: there isn’t a simple way to do this. One method is to convert to a factor first and then sort as above.</p></li>
</ul>
<p><strong>Note</strong>: all dplyr methods ignore rownames</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## Sort by length, then by width
<span class="keyword">arrange</span>(df, Sepal.Length,Sepal.Width)       <span class="comment"># Use arrange from dplyr package</span>
df[<span class="keyword">order</span>(df<span class="string">$</span>Sepal.Length,df<span class="string">$</span>Sepal.Width), ]   <span class="comment"># Use built-in R functions</span>

## Sort by all columns in the data frame, from left to right
df[ <span class="keyword">do.call</span>(order, <span class="keyword">as.list</span>(df)), ] 

## Reverse sort by weight column. These all have the same effect:
<span class="keyword">arrange</span>(df, <span class="string">-</span>Sepal.Length)            
df[<span class="keyword">order</span>(df<span class="string">$</span>Sepal.Length, <span class="dt">decreasing=</span><span class="ot">TRUE</span>), ]
df[<span class="keyword">order</span>(<span class="string">-</span>df<span class="string">$</span>Sepal.Length), ]

## Sort by length, then by width (decreasing)
<span class="keyword">arrange</span>(df, Sepal.Length,<span class="string">-</span>Sepal.Width)         <span class="comment"># Use arrange from plyr package</span>
df[ <span class="keyword">order</span>(df<span class="string">$</span>Sepal.Length,<span class="string">-</span>df<span class="string">$</span>Sepal.Width), ]

## Sort by Species (decreasing), then by Sepal.Length (increasing)
## The call to xtfrm() which is needed for factors
<span class="keyword">arrange</span>(df, <span class="string">-</span><span class="keyword">xtfrm</span>(Species), Sepal.Length)         <span class="comment"># Use arrange from plyr package</span>
df[ <span class="keyword">order</span>(<span class="string">-</span><span class="keyword">xtfrm</span>(df<span class="string">$</span>Species), df<span class="string">$</span>Sepal.Length), ]  <span class="comment"># Use built-in R functions</span></pre></td></tr></tbody></table></figure>
</div>
<div class="section level2" id="recoding-data">
<h2>Recoding data</h2>
<p>The easiest way is to use <code>revalue()</code> or <code>mapvalues()</code> in <code>plyr</code></p>
<p>Alternative, <code>recode</code> in dplyr</p>
<p><code>cut</code> in R will split the data to specified groups</p>
<p><strong>Note</strong>: For numeric vectors, <code>revalue()</code> won’t work, since it uses a named vector, and the names are always strings, not numbers. <code>mapvalues()</code> will work, though.</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">library</span>(plyr)
<span class="keyword">library</span>(dplyr)</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment"># The following two groups are equivalent:</span>
df<span class="string">$</span>flora &lt;-<span class="string"> </span><span class="keyword">recode</span>(df<span class="string">$</span>Species, <span class="string">"setosa"</span>=<span class="number">1</span>, <span class="string">"versicolor"</span>=<span class="number">2</span>, <span class="string">"virginica"</span>=<span class="number">3</span>)
df<span class="string">$</span>flora[df<span class="string">$</span>Species<span class="string">==</span><span class="string">"setosa"</span>] &lt;-<span class="string"> "1"</span>
df<span class="string">$</span>flora[df<span class="string">$</span>Species<span class="string">==</span><span class="string">"versicolor"</span>] &lt;-<span class="string"> "2"</span>
df<span class="string">$</span>flora[df<span class="string">$</span>Species<span class="string">==</span><span class="string">"virginica"</span>] &lt;-<span class="string"> "3"</span>
<span class="comment"># flora the column to a factor</span>
df<span class="string">$</span>flora &lt;-<span class="string"> </span><span class="keyword">factor</span>(df<span class="string">$</span>flora)


df<span class="string">$</span>flora &lt;-<span class="string"> </span><span class="keyword">revalue</span>(df<span class="string">$</span>Species, <span class="keyword">c</span>(<span class="string">"setosa"</span>=<span class="string">"1"</span>, <span class="string">"versicolor"</span>=<span class="string">"2"</span>, <span class="string">"virginica"</span>=<span class="string">"3"</span>))
df<span class="string">$</span>flora &lt;-<span class="string"> </span><span class="keyword">mapvalues</span>(df<span class="string">$</span>Species, <span class="dt">from =</span> <span class="keyword">c</span>(<span class="string">"setosa"</span>, <span class="string">"versicolor"</span>, <span class="string">"virginica"</span>), <span class="dt">to =</span> <span class="keyword">c</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>))
oldvalues &lt;-<span class="string"> </span><span class="keyword">c</span>(<span class="string">"setosa"</span>, <span class="string">"versicolor"</span>, <span class="string">"virginica"</span>)
newvalues &lt;-<span class="string"> </span><span class="keyword">factor</span>(<span class="keyword">c</span>(<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>))  <span class="comment"># Make this a factor</span>
df<span class="string">$</span>flora &lt;-<span class="string"> </span>newvalues[ <span class="keyword">match</span>(df<span class="string">$</span>Species, oldvalues) ]</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 10 x 7
##    rowname Sepal.Length Sepal.Width Petal.Length Petal.Width Species flora
##  * &lt;fct&gt;          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;   &lt;fct&gt;
##  1 1               5.10        3.50         1.40       0.200 setosa  1    
##  2 2               4.90        3.00         1.40       0.200 setosa  1    
##  3 3               4.70        3.20         1.30       0.200 setosa  1    
##  4 4               4.60        3.10         1.50       0.200 setosa  1    
##  5 5               5.00        3.60         1.40       0.200 setosa  1    
##  6 146             6.70        3.00         5.20       2.30  virgin~ 3    
##  7 147             6.30        2.50         5.00       1.90  virgin~ 3    
##  8 148             6.50        3.00         5.20       2.00  virgin~ 3    
##  9 149             6.20        3.40         5.40       2.30  virgin~ 3    
## 10 150             5.90        3.00         5.10       1.80  virgin~ 3</pre></td></tr></tbody></table></figure>
<p>When using <code>cut</code>, by default, the ranges are open on the left, and closed on the right, as in (7,9].<br>
To set it so that ranges are closed on the left and open on the right, like [7,9), use <code>right=FALSE</code>.</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">df<span class="string">$</span>category &lt;-<span class="string"> </span><span class="keyword">cut</span>(df<span class="string">$</span>Sepal.Length,
                     <span class="dt">breaks=</span><span class="keyword">c</span>(<span class="string">-</span><span class="ot">Inf</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="ot">Inf</span>),
                     <span class="dt">labels=</span><span class="keyword">c</span>(<span class="string">"low"</span>,<span class="string">"medium"</span>,<span class="string">"high"</span>))</pre></td></tr></tbody></table></figure>
<p><code>rename</code> in dplyr and plyr</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment">#  rename the columns in a data frame.</span>
<span class="comment">#  names(df)[names(df)=="."] &lt;- ".."</span>
df &lt;-<span class="string"> </span><span class="keyword">rename</span>(df, <span class="keyword">c</span>(<span class="string">"Sepal.Length"</span>=<span class="string">"S.Length"</span>, <span class="string">"Sepal.Width"</span>=<span class="string">"S.Width"</span>,<span class="string">"Petal.Length"</span>=<span class="string">"P.Length"</span>, <span class="string">"Petal.Width"</span>=<span class="string">"P.Width"</span>))</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 10 x 8
##    rowname S.Length S.Width P.Length P.Width Species   flora category
##  * &lt;fct&gt;      &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt; &lt;fct&gt;   
##  1 1           5.10    3.50     1.40   0.200 setosa    1     medium  
##  2 2           4.90    3.00     1.40   0.200 setosa    1     low     
##  3 3           4.70    3.20     1.30   0.200 setosa    1     low     
##  4 4           4.60    3.10     1.50   0.200 setosa    1     low     
##  5 5           5.00    3.60     1.40   0.200 setosa    1     low     
##  6 146         6.70    3.00     5.20   2.30  virginica 3     medium  
##  7 147         6.30    2.50     5.00   1.90  virginica 3     medium  
##  8 148         6.50    3.00     5.20   2.00  virginica 3     medium  
##  9 149         6.20    3.40     5.40   2.30  virginica 3     medium  
## 10 150         5.90    3.00     5.10   1.80  virginica 3     medium</pre></td></tr></tbody></table></figure>
</div>
<div class="section level2" id="select-filter-mutate">
<h2>Select &amp; Filter &amp; mutate</h2>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">names</span>(df)
<span class="comment"># [1] "S.Length" "S.Width"  "P.Length" "P.Width"  "Species" </span>
<span class="comment"># [6] "flora"    "category"</span>

## using select method
df <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">select</span>(S.Length, P.Length<span class="string">:</span>P.Width,
              <span class="keyword">contains</span>(<span class="string">"flora"</span>), <span class="string">-</span><span class="keyword">starts_with</span>(<span class="string">"P.Length"</span>),
              <span class="string">-</span>S.Length, <span class="keyword">ends_with</span>(<span class="string">"ory"</span>),
              <span class="keyword">matches</span>(<span class="string">"S</span><span class="ch">\\</span><span class="string">.W.*"</span>)) <span class="string">%&gt;%</span><span class="string"> </span>head
<span class="comment">#   P.Width flora category S.Width</span>
<span class="comment"># 1     0.2     1   medium     3.5</span>
<span class="comment"># 2     0.2     1      low     3.0</span>
<span class="comment"># 3     0.2     1      low     3.2</span>
<span class="comment"># 4     0.2     1      low     3.1</span>
<span class="comment"># 5     0.2     1      low     3.6</span>
<span class="comment"># 6     0.4     1   medium     3.9</span>

## using filter method
df <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">filter</span>(category<span class="string">==</span><span class="string">"medium"</span> <span class="string">&amp;</span><span class="string"> </span><span class="keyword">as.numeric</span>(flora) <span class="string">&gt;</span><span class="number">1</span>) <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">head</span>(.,<span class="number">5</span>)
<span class="comment">#   S.Length S.Width P.Length P.Width    Species flora category</span>
<span class="comment"># 1      7.0     3.2      4.7     1.4 versicolor     2   medium</span>
<span class="comment"># 2      6.4     3.2      4.5     1.5 versicolor     2   medium</span>
<span class="comment"># 3      6.9     3.1      4.9     1.5 versicolor     2   medium</span>
<span class="comment"># 4      5.5     2.3      4.0     1.3 versicolor     2   medium</span>
<span class="comment"># 5      6.5     2.8      4.6     1.5 versicolor     2   medium</span></pre></td></tr></tbody></table></figure>
<p>Using mutate</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">df <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">select</span>(S.Width, flora) <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">arrange</span>(<span class="keyword">desc</span>(flora)) <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">mutate</span>(<span class="dt">mesc =</span> <span class="keyword">paste0</span>(S.Width,<span class="string">"-"</span>,flora)) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">  </span><span class="keyword">separate</span>(mesc, <span class="dt">into =</span> <span class="keyword">c</span>(<span class="string">"Sepal.Width"</span>, <span class="string">"Flora"</span>), <span class="dt">sep =</span> <span class="string">"-"</span>) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">  </span><span class="comment"># separate in tidyr</span>
<span class="string">  </span><span class="keyword">unite</span>(<span class="string">"mesc"</span>, <span class="dt">sep =</span> <span class="string">"-"</span>, Sepal.Width, Flora) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">  </span><span class="keyword">head</span>(., <span class="number">5</span>)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##   S.Width flora  mesc
## 1     3.3     3 3.3-3
## 2     2.7     3 2.7-3
## 3     3.0     3   3-3
## 4     2.9     3 2.9-3
## 5     3.0     3   3-3</pre></td></tr></tbody></table></figure>
</div>
<div class="section level2" id="summarise">
<h2>Summarise</h2>
<div class="section level3" id="basic">
<h3>Basic</h3>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">df <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">group_by</span>(Species) <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">select</span>(<span class="keyword">matches</span>(<span class="string">"S.Length"</span>)) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">  </span><span class="keyword">summarise_all</span>(<span class="keyword">funs</span>(<span class="keyword">min</span>(., <span class="dt">na.rm=</span><span class="ot">TRUE</span>), 
                     <span class="dt">Q1 =</span> <span class="keyword">quantile</span>(., <span class="dt">probs =</span> <span class="fl">0.25</span>),
                     <span class="dt">med =</span> median, 
                     <span class="dt">Q3 =</span> <span class="keyword">quantile</span>(., <span class="dt">probs =</span> <span class="fl">0.75</span>), 
                     <span class="keyword">max</span>(., <span class="dt">na.rm=</span><span class="ot">TRUE</span>), 
                     <span class="keyword">mean</span>(., <span class="dt">na.rm=</span><span class="ot">TRUE</span>), 
                     <span class="dt">counts =</span> <span class="keyword">n</span>()))</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 3 x 8
##   Species      min    Q1   med    Q3   max  mean counts
##   &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;int&gt;
## 1 setosa      4.30  4.80  5.00  5.20  5.80  5.01     50
## 2 versicolor  4.90  5.60  5.90  6.30  7.00  5.94     50
## 3 virginica   4.90  6.22  6.50  6.90  7.90  6.59     50</pre></td></tr></tbody></table></figure>
<p><strong>Note</strong>:</p>
<p>Lead and lag : Find the “next” or “previous” values in a vector. Useful for comparing values ahead of or behind the current values.</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">df <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">group_by</span>(category) <span class="string">%&gt;%</span>
<span class="string">  </span>tally <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">mutate</span>(<span class="dt">change =</span> n<span class="string">-</span><span class="string"> </span><span class="keyword">lag</span>(n))</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 3 x 3
##   category     n change
##   &lt;fct&gt;    &lt;int&gt;  &lt;int&gt;
## 1 low         32     NA
## 2 medium     106     74
## 3 high        12    -94</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment"># df %&gt;%</span>
<span class="comment">#   group_by(category) %&gt;%</span>
<span class="comment">#   summarise(n=n()) %&gt;%</span>
<span class="comment">#   mutate(change=n - lag(n))</span></pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">df <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">group_by</span>(category) <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">select</span>(P.Length, P.Width, Species) <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">filter</span>(<span class="keyword">min_rank</span>(<span class="keyword">desc</span>(P.Length)) <span class="string">&lt;=</span><span class="string"> </span><span class="number">3</span>) <span class="string">%&gt;%</span><span class="string">  </span>##== top_n(3)
<span class="string">  </span><span class="keyword">arrange</span>(category, <span class="keyword">desc</span>(P.Length))</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 11 x 4
## # Groups:   category [3]
##    category P.Length P.Width Species   
##    &lt;fct&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;     
##  1 low          4.50    1.70 virginica 
##  2 low          3.50    1.00 versicolor
##  3 low          3.30    1.00 versicolor
##  4 low          3.30    1.00 versicolor
##  5 medium       6.00    2.50 virginica 
##  6 medium       5.90    2.30 virginica 
##  7 medium       5.80    2.20 virginica 
##  8 medium       5.80    1.80 virginica 
##  9 high         6.90    2.30 virginica 
## 10 high         6.70    2.20 virginica 
## 11 high         6.70    2.00 virginica</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## randomly sample a fixed number of rows, without replacement
<span class="keyword">set.seed</span>(<span class="number">0</span>)
df <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">sample_n</span>(<span class="number">5</span>)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##     S.Length S.Width P.Length P.Width    Species flora category
## 135      6.1     2.6      5.6     1.4  virginica     3   medium
## 40       5.1     3.4      1.5     0.2     setosa     1   medium
## 56       5.7     2.8      4.5     1.3 versicolor     2   medium
## 85       5.4     3.0      4.5     1.5 versicolor     2   medium
## 133      6.4     2.8      5.6     2.2  virginica     3   medium</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## randomly sample a fraction of rows, with replacement
df <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">sample_frac</span>(<span class="fl">0.05</span>, <span class="dt">replace=</span><span class="ot">TRUE</span>)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##      S.Length S.Width P.Length P.Width    Species flora category
## 31        4.8     3.1      1.6     0.2     setosa     1      low
## 135       6.1     2.6      5.6     1.4  virginica     3   medium
## 142       6.9     3.1      5.1     2.3  virginica     3   medium
## 100       5.7     2.8      4.1     1.3 versicolor     2   medium
## 95        5.6     2.7      4.2     1.3 versicolor     2   medium
## 10        4.9     3.1      1.5     0.1     setosa     1      low
## 31.1      4.8     3.1      1.6     0.2     setosa     1      low
## 27        5.0     3.4      1.6     0.4     setosa     1      low</pre></td></tr></tbody></table></figure>
</div>
<div class="section level3" id="putting-some-nas">
<h3>Putting some NAs</h3>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## Using ddply in plyr
<span class="keyword">ddply</span>(df, <span class="keyword">c</span>(<span class="string">"Species"</span>, <span class="string">"category"</span>), summarise,
               <span class="dt">N    =</span> <span class="keyword">length</span>(S.Length),
               <span class="dt">mean =</span> <span class="keyword">mean</span>(S.Length),
               <span class="dt">sd   =</span> <span class="keyword">sd</span>(S.Length),
               <span class="dt">se   =</span> sd <span class="string">/</span><span class="string"> </span><span class="keyword">sqrt</span>(N)
)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##      Species category  N     mean         sd         se
## 1     setosa      low 28 4.764286 0.22146697 0.04185332
## 2     setosa   medium 22 5.313636 0.22317077 0.04758017
## 3 versicolor      low  3 4.966667 0.05773503 0.03333333
## 4 versicolor   medium 47 5.997872 0.46741163 0.06817899
## 5  virginica      low  1 4.900000         NA         NA
## 6  virginica   medium 37 6.345946 0.35558605 0.05845799
## 7  virginica     high 12 7.475000 0.27010099 0.07797144</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## Using dlpyr
df <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">group_by</span>(Species, category) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">      </span><span class="keyword">select</span>(S.Length) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">      </span><span class="keyword">summarise_all</span>(<span class="keyword">funs</span>(<span class="dt">N =</span> <span class="keyword">n</span>(),
               <span class="dt">mean =</span> <span class="keyword">mean</span>(.),
               <span class="dt">sd   =</span> <span class="keyword">sd</span>(.),
               <span class="dt">se   =</span> sd <span class="string">/</span><span class="string"> </span><span class="keyword">sqrt</span>(N)))</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 7 x 6
## # Groups:   Species [?]
##   Species    category     N  mean       sd       se
##   &lt;fct&gt;      &lt;fct&gt;    &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1 setosa     low         28  4.76   0.221    0.0419
## 2 setosa     medium      22  5.31   0.223    0.0476
## 3 versicolor low          3  4.97   0.0577   0.0333
## 4 versicolor medium      47  6.00   0.467    0.0682
## 5 virginica  low          1  4.90 NaN      NaN     
## 6 virginica  medium      37  6.35   0.356    0.0585
## 7 virginica  high        12  7.48   0.270    0.0780</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">dfNA &lt;-<span class="string"> </span>df
dfNA<span class="string">$</span>S.Length[<span class="number">11</span><span class="string">:</span><span class="number">20</span>] &lt;-<span class="string"> </span><span class="ot">NA</span>

## Using ddply in plyr
<span class="keyword">ddply</span>(dfNA, <span class="keyword">c</span>(<span class="string">"Species"</span>, <span class="string">"category"</span>), summarise,
               <span class="dt">N    =</span> <span class="keyword">sum</span>(<span class="string">!</span><span class="keyword">is.na</span>(S.Length)),
               <span class="dt">mean =</span> <span class="keyword">mean</span>(S.Length, <span class="dt">na.rm=</span><span class="ot">TRUE</span>),
               <span class="dt">sd   =</span> <span class="keyword">sd</span>(S.Length, <span class="dt">na.rm=</span><span class="ot">TRUE</span>),
               <span class="dt">se   =</span> sd <span class="string">/</span><span class="string"> </span><span class="keyword">sqrt</span>(N)
)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##      Species category  N     mean         sd         se
## 1     setosa      low 25 4.780000 0.21408721 0.04281744
## 2     setosa   medium 15 5.246667 0.15522641 0.04007929
## 3 versicolor      low  3 4.966667 0.05773503 0.03333333
## 4 versicolor   medium 47 5.997872 0.46741163 0.06817899
## 5  virginica      low  1 4.900000         NA         NA
## 6  virginica   medium 37 6.345946 0.35558605 0.05845799
## 7  virginica     high 12 7.475000 0.27010099 0.07797144</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">ddply</span>(dfNA, <span class="keyword">c</span>(<span class="string">"Species"</span>, <span class="string">"category"</span>),
  <span class="dt">.fun =</span> <span class="cf">function</span>(., col) {
    <span class="keyword">c</span>(<span class="dt">N    =</span> <span class="keyword">sum</span>(<span class="string">!</span><span class="keyword">is.na</span>(.[[col]])),
      <span class="dt">mean =</span> <span class="keyword">mean</span>   (.[[col]], <span class="dt">na.rm=</span>T),
      <span class="dt">sd   =</span> <span class="keyword">sd</span>     (.[[col]], <span class="dt">na.rm=</span>T)
    )
  },
  <span class="string">"S.Length"</span>
)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##      Species category  N     mean         sd
## 1     setosa      low 25 4.780000 0.21408721
## 2     setosa   medium 15 5.246667 0.15522641
## 3 versicolor      low  3 4.966667 0.05773503
## 4 versicolor   medium 47 5.997872 0.46741163
## 5  virginica      low  1 4.900000         NA
## 6  virginica   medium 37 6.345946 0.35558605
## 7  virginica     high 12 7.475000 0.27010099</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## Using dlpyr
dfNA <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">filter</span>(<span class="string">!</span><span class="keyword">is.na</span>(S.Length)) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">  </span><span class="keyword">group_by</span>(Species, category) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">      </span><span class="keyword">select</span>(S.Length) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">      </span><span class="keyword">summarise_all</span>(<span class="keyword">funs</span>(<span class="dt">N =</span> <span class="keyword">n</span>(),
               <span class="dt">mean =</span> <span class="keyword">mean</span>(.),
               <span class="dt">sd   =</span> <span class="keyword">sd</span>(.),
               <span class="dt">se   =</span> sd <span class="string">/</span><span class="string"> </span><span class="keyword">sqrt</span>(N)))</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## # A tibble: 7 x 6
## # Groups:   Species [?]
##   Species    category     N  mean       sd       se
##   &lt;fct&gt;      &lt;fct&gt;    &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1 setosa     low         25  4.78   0.214    0.0428
## 2 setosa     medium      15  5.25   0.155    0.0401
## 3 versicolor low          3  4.97   0.0577   0.0333
## 4 versicolor medium      47  6.00   0.467    0.0682
## 5 virginica  low          1  4.90 NaN      NaN     
## 6 virginica  medium      37  6.35   0.356    0.0585
## 7 virginica  high        12  7.48   0.270    0.0780</pre></td></tr></tbody></table></figure>
</div>
</div>
<div class="section level2" id="keep-rownames-in-dplyr">
<h2>Keep rownames in dplyr</h2>
<p><code>name_rows</code> : provides a way to preserve them by converting them to an explicit column in the data fram</p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">df <span class="string">%&gt;%</span><span class="string"> </span>name_rows <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">filter</span>(category<span class="string">==</span><span class="string">"medium"</span>, S.Width<span class="string">&gt;=</span><span class="number">4</span>)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##   S.Length S.Width P.Length P.Width Species flora category .rownames
## 1      5.8     4.0      1.2     0.2  setosa     1   medium        15
## 2      5.7     4.4      1.5     0.4  setosa     1   medium        16
## 3      5.2     4.1      1.5     0.1  setosa     1   medium        33
## 4      5.5     4.2      1.4     0.2  setosa     1   medium        34</pre></td></tr></tbody></table></figure>
</div>
</div>
<div class="section level1" id="pipeliningchaining">
<h1>Pipelining(chaining)</h1>
<p><a target="_blank" rel="noopener" href="http://magrittr.tidyverse.org/">The Treachery of Images - Ceci n’est pas une pipe</a></p>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="keyword">library</span>(magrittr)
<span class="keyword">library</span>(babynames)</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">iris <span class="string">%&gt;%</span>
<span class="string">  </span>{
    n &lt;-<span class="string"> </span><span class="number">5</span>
    <span class="keyword">rbind</span>(<span class="keyword">head</span>(., n), <span class="keyword">tail</span>(., n))
  } <span class="string">%T&gt;%</span>
<span class="string">  </span>plot <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">  </span>summary</pre></td></tr></tbody></table></figure>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqAAAAHgCAMAAABNUi8GAAAAkFBMVEUAAAAAADoAAGYAOjoAOpAAZrY6AAA6ADo6AGY6Ojo6OpA6ZrY6kNtmAABmADpmAGZmOjpmOpBmZjpmZmZmkJBmkNtmtv+QOgCQOjqQOmaQkGaQtpCQ27aQ29uQ2/+2ZgC2Zjq225C22/+2/7a2///bkDrb25Db/9vb////tmb/25D/27b/29v//7b//9v///8OP36fAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAbf0lEQVR4nO2dC3/iuBXFnTSQdAqzu22XzGSmobuLtzE74O//7SrJD/yQjXUtydfSOfObAEbXf9k66IWRkxyCGCtZOgMQNCYYFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRirbUZ9PqaJBv1LK2edHVMkoN6klVPBlOIveysZ9GS6tyL3D6e7qW+/HSannhNWptB043wqCy486eP4klX2aYsrcvn9/OLrrDqFGIvW64GrXN//fI+IfW+sOWkxKvS2gwqpWq9saqvsJ+08FB5lQa9fvknV4PWudd/yNq6fv2jOKApidelFRq0MNfx39uBJl40/qpmFRVlftS38WUK4XK2TXyd++xvgwfaUPmJm5Z4TVqfQUXbJx+OTx9D9qtKdtig5RuiluJv0PzHR54OHUatqs8yKfGatDqDnp+LVlsW3qC71BtjTXzZTUiEmDq0lfv7H6PKoJMSr0lrM2jdyRqsH+s3xgZJdSjb0qxzL3M7uQadlnhNWptBj6rSk8WRDlV+R/mGTDE2zbQri5StQYvcy0wep9TyMuHkxGvS2gwKRSYYFGItGBRiLRgUYi0YFGItGBRiLRgUYi0YFGKttRq0l28nGxhIn6eBnBolXofWmnkYdHbidWitmYdBZydeh9aaeRh0duJ1aK2Zh0FnJ16H1pp5GHR24nVorZmHQWcnXofomU+8CMTwiGY2WyCSCjEhJobp5xMJnMQr8YZdmGgc7juSCoFBLWFhUGuCQV1gYVBrop9Kar/HW+HVGfRqF4VdmGgWvUAkFQKDzgPpITDoHKGJtwjSQ9DEzxEMahGkh/gxKHm2CQa1RSRwIjLorHDfkVQI+qDzQHoI+qBz5PdUguiFyD6SCknI1SKd6IbROgyXRP0JQw1qTe1TSe5YkonOEEn7pSPiwAlDH9SaYFCbJA/EgTzAoJR9L9X8NQbwMgt+Der9m6Sormay2QddsHapDqPIgtc+aL8+W8Sgmdr4MOGOD+syqO1dL9z8uTeoHrl4E1/en+X86WNSOB3sXDCoC+TiBi3Xg26sWz4aTgc7V+BTMK77oAPIxaeZqhp0wk1zIjYoiAsRc3kDNfRBQeRKZB9JhYC4XqL2aqao+6DMLxZpZM8RceQELN4HNYleIJIKMSGS5/T9FF4ze26IYydg8VG8YbjvSCoEBiUSdO/ZJ45lpDdIen7Ppt04HAa1RTSmRGzQ65d3OUnvaaI+vTNhUN5d8/p65xZof/1e34hTnz30QYmE3ltuiCMZ6Y+Ozv/wNUhKZUWdDdx0UGqiQWUyiwalCkTnRKH/vss75UqTmkYaM8svBeTdsQcEg4LYhVxf5aTTsGeGI42ZDd9JqqhOz89vBVt9XbDrGbRO9m2r7vZ62ScP315+Ey92KrRZGUdXeDEQPUdm1f11r6/yXtBPH+ft40k+v+wPqgPQMegtmTCxePuy34mkRbJqmz57MRReDETvkXKUJEyXSWMJV563B9Vg/5AVuHjsGLSbTL1OK4Me8lY7H13hxUBcIvKyf/pIi2+zdspgqvrM1Pi+Y9BWMvEnVb2Bl1PdB4VBAycuElk5LS8NJgx62T+8a2rQVjIYNEKi38jSTrKtLidDi3b65ZRJ52W9GrROVppRNfHZIwwaDdFz5FEaTo58rq/CkdKQ5SBJOvG87Rm0TlaasRokyU4BDBoqccm1mVSnUppPzh+pVv1NDZryo3j5XYyGnt+lOYupr2R3S1aaUU4zvYlq9JhsYNAYiEtH9mbbJygbmLONrvBiIC4daWhQ2RNQc6N3ITEUXgzEpSNNa9ByGvU+JIbCi4HIPpIKATEMIvtIKgTEMIjsI6kQEMMgso+kQkAMg5hjbSZDSHMCuU90vWpul+h+ld6FiVibyZyRtF713nJ6rB2ic97iRKzNZM6AQT0SsTaTOePWlvcNOmv91Yn8xgvnvMWJOdZmMoQUxVMYFQZ1TmQfSYV4OIk6g7omR9HEY22mXqRxpYAa1BORfSQVYkKk1Arog/ohso+kQlwbVE9EE2+bWLTtqaffxbsVDBogURk020Q+UW9vbSZ8k2SZqAya7iIfJPV3Na0UorPLIgbdP/35q3j4JeIaVLenKTuIrsFdoonPm7+mNIykM10IBg2QyD6SCiF2KpvfExkTq4kmEnqaMM3ELZIKIY/KTcY6mv6Z4xoGBuUWSYXMMyid6NmgbmkMiOwjqRAYNAwi+0gqZFYfdA7Rax80hmkmP5FeBGJ4RDObkSMhyINgUIi1YFCItWBQiLVgUIi1YFCItWBQiLVgUIi1YFCItWBQiLVgUIi18F08iL6JZjazGjknJ/chC10/Zf2g7hBd8xYnLhdp/8JCBgZ1frUkrge1HDlca8OgFogwqLtIGNQCEQZ1GIk+qAUi+qCOI20eLgwaIHHhSKsNBgODoom3TVw4EgadR4RBHUfCoPOIMKjrSPRB5xHRB106sren4fPDwaAuYdpFx50jFyaaRS8QqdnRWH/BPnFMPonFkfv9SMj/CxONw01D5n7/r8kCDOqHGIVBZ0dqdgSD+iHCoKQ9oQ/qjYg+qF0FbtA4iewjqRAQwyDajjxvk43mliExnEoQXRAtR8p7e2ePJxgUREtEy5HKmZef/oBBQbRDtBx5/SLvZnP5+QUGBdEK0XbkeXsQf0Urr410+z3u8oUX/Dfj/oleI8dm2S1ocYM6Pr4oiW4ib4Ok1ledMCiIpkSvkTAoiKZEv5EL9UFTwX0YuRdpeaPS49OHSrzJ5XzZprp9qexQ//V7rrubaXQ9wvX3QbPk4ds26Y6R8sTDcQ0aNJXZyZLDYGDpPTW0u77+S/r0st9V74rNMsEUg6oH3CfJJtFy5PXLuxzHnz917u3t+haWBUT/Qn55kFf1o1al99QMxOXz98/iVXarcc0M6rcbgybeMFKMjq5fT5qvOhc16O72NJG1+/n5LUmkX89bUR/sKu+phNnT/+RD+vQht172ycPb428i2U4FdaphGNQ50XJkWVtdfmFUg4rWPSksKjqWhfW2jyf5/LI/qA5AVTmKt/LjLk9FqqOyrWzoL/uyBt2Kd9N25wUGdU60HanKOuuNSBbtgxajpE3ZyRSuVG25yOmPjyLHjeGQ/ISdX07SumKrCkgrgx7ybjuPPqhz4kKRJkc5doly0nTF6DTTZf/0kRZzsjtlM1V9Zmp8X9nu8vldmFNZ+EV2BN5T1Q94ufVB7xrUSfE1fjTjyC7tE9na7NegTC5YNmknRtLWbxVPRg1a+y0vbSZseNk/vDdrUNGwy+a9fKAY1EkDmJT/NERLvM6JbG322sT3icbhpiHaH815NWg1Rhctdtn1KFrrl1Mm/ZfdalDR+zzu6oeqiW+O4mHQ0Ayqj/Rbgx6lL+Wg6PoqHCkNWQ6SpGHP24ZBz39Xz4oHNUjaqEFS2SWFQWMxqOc+qOp7yqpRTjOpVv1NDZryo3j5XfQ4n9+LuSjZUVXJVNNeTzOdRMIN+qBWiSMZ4WBQJxrvgzakm3N3S7Sm6IjsI6kQGDQMIvtIKgQGDYPIPpIKATEMIvtIKgTEMIjsI6kQEMMgso+kQkAMg8g+kgoBMQyi60jb64OOsgZfgLhaIvtIKgTEMIjsI6kQEMMgso+kQkAMg8g+kgoBMQyi7Uh5EWWi+9mxB0VXeDEQLUfKnx1/+tD87JjMNFB0hRcD0XLk5afT+R9YYRlEa0Tbkf99l0uESpNaYhoousKLgWg7Ul6zXiyKYIlpoOgKLwYi+0gqBMQwiG4iB9YHdazoCi8GIvtIKgTEMIjsI6kQEMMg2o70ciOvgS5DmIXX+SGwQ6L+tPo9q65/duzlRl7JwA6DNGjnYB0SB06r17Oq8uB4ot79jbxgUCfEKAzq5UZeMKgTYhQGHbyRlxeBGB7RSF5qJQiiCgaFWAsGhVgLBoVYCwaFWAsGhVgLBoVYCwaFWAsGhVgLBoVYCwaFWAsGhVhrxrf43i8yADEMopnNFojU7GhoZ4Ffiuaf2L/4bf2X21mP1OwIBvVEhEFpO7rtLGndwY9+Ku82K9EYtHUmNE28fWIXv/ImvnUGa9sUT8incqxa1mAHICEYtPf5h0EnxA7m2JpBqWclGINWx98xaO69iV+hQTXVW+90ag06/Ugn1KDDgfoXruSGWJ6/4oxxM6j8IWaqWe9LF04HkyM17rltGeuDGrgu+hq0dmLnRCSa23E71YBBs03eX3NWF04HkyNHDToCMTLo9KRjRMoeeBBvBvVFHM1IezpUGDTdaRYDGQing8mx3Y+UdYMa9AbGiKRd8CBWVeXiBtXVoPunP38VD78wrUF1e5u09M2c3vbUjAy+WCORw0xFr1Mhdd4+vE+6hToXg06BgBgGkX0kFQJiGET2kVQIiGEQ2UdSISCGQWQfSYWAGAaRfSQVAmIYRPaRVAiIYRDZR1IhIIZBZB9JhYAYBpF9JBUCYhjEUsXS3ZRIOtO6oiu8GIjyu/jiG/rePd7vRtKZbhRd4YVK7Py487zdoQYFkSlRKX34DwwKIktioevrAwwKIkci+0gqZEHi9VV1oZqf+b9+r5+WFzZeX3fj+xYhmmsguRyjNyL7SCpkUYMq76W3YWfTaRMNKpPBoCuIpEKWN+hlf6i2wKBkIvtIKoSHQWVr/3g6b5NkJ28ErR46Bi2SiM3fxPsHNe338O3lNxlyfn5L1LZ7RJeCQa2JS+GV3js+nq6vG9HUP31IU6oKVTT7HYPWSbZPH/Lty34nkhbJqm13iS4Fg1oTl8IrB0nCWOqepcKZ0m0/5I8SxZOOQesk8ian4j31Oq0Mesg77TyXY/RGZB9JhSxfgwqlxVciu8JkmRradwzaSiL+pHIFjfPLqe6DwqC8I6kQHgYt12spmviHd00N2kwCg86EwKCTiDeDZuVcqDRZJp2X9WrQZpK6ic8eYdCbMjFq3E65VgQGnUa8GfT6KlwpLCgHSNKJjRUIboOkIkllxmqQJENgUKnrl3fZGWe7NhMRwsKgarwkq8hjshH/k4fvasAkE5QjqV2VpDajnGZ6E9WFCInVoL21ma5fT4zXZqJBVk3MBtcaDOcYJxLlh1zNBK9pbaYpkLUSZU9AzY16I97R4gYt2pBsyuVMMKgHopx3GvRnIMdoQGQfSYWAGAaRfSQVAmIYRPaRVAiIYRDZR1IhIIZBZB9JhYAYBpF9JBUCYhhE9pFUCIhhENlHUiEghkFkH0mFgBgGkX0kFQJiGMRcLn0jv1rDxSIgciQWF4tkjycYFEQuxN7ldvLPHzAoiAyJ1dKgl59fYFAQ+RHzvPhxa/HzV8NIOtOJoiu8GIjsI6kQEMMgeotcx72HDXO5vF3cn9aFib4ik3a4uutyYvlw6XapctHJ5WhSlXsykaoOUXN79cCIviLbRV+96vp2nsh2qXNxPztJ6//yBnXPXZjoK7Is0E5Nxdagg7UEN4OiBrUVqRr1vGMEbgatjDmcLRg0VINWf29GYNgHbQYPVaHog8ZgUCeyZ5epGV3eoO65sfRBfQjE8IhmNiNHQpAHwaAQa8GgEGvBoBBrwaAQa8GgEGvBoBBrwaAQa8GgEGvBoBBrwaAQa8GgEGvhYhEQfRPNbLZApGZH/Z3NvHz4/iVkAyl8XW7H6BJp9zAYdOJOJ6SAQR3AYNCJO52QAgZ1AFu3QQd+I5LM+wHG/X7PAJZMNFRS/0TGF1EPcU5MkmQRmwV4KkH0QmQfSYWAGAaRfSQVAmIYRPaR47tt9Qxd9kEH4shEU1CVwdANGlYftDO2djiKHwkkEQmcxCtxABLeKH72lwOjO89hUOcK3KCzI7V70y9G1zmV0z8WrA1aNXpxGHT1X3VWOyuLa6QPauI6xn3Q4jBi6YOGZtARiN11yUZyon9hFWGjGzMrA96Iq2ziex8p+wblXoPeshe6QVdYg2qMNnAM4fZBbzuHQUfDF4g0cE+oo/iYDJqvr4mHQWFQk/BxydvWpUny9GEcOUKdmmP6qWTcB1V7jqYP6vybJGHQbJPn508dhwZ4KkH0QrQcKQya7jS3To7hVILogmg58rJ/+vNX8fALalAQrRCtR563D+/n53drTANFV3gxENlHUiEghkF0E3nrgzq9mqmj6AovBiL7SCoExDCI7COpEBDDILKPpEKiI15fVV/qoTE+/ev3+mk5bj2qr1DSZKMCNtVoNns8ycT9we0o0ZVg0CCJ19edfEgf6ynopt/K59KJIuW/pE8v+131rtgsE0Rg0Mu+GBM9YqLeN7E06GV/qLZoDHreincvn79/Fq+yW2Ubj0HFwWuOcfHCi4HYMKhs7YXltkmyy+Vf+VB4TyXKnv4nH9KnD7lV1CkPb4+/ycTn5zeR+JDng5D1G1QcffdCkXlMA3Gyi39iadDj40l0Lhv2O6hmv6ocxeb8uMtTkeKobCsb+su+rEG34t200/qFZlDbkVRIdMRykCTspTqawpnScz9kdSGeNIZD19dDfn45SeuKrSpxWhn0kPfaeRjUmjjZxT+xrEFzOUhX2hVWy9TQvrKd6IIJcyr7igexVVap0q91HxQGdSZOdvFPbBi07GUVTfzDe7MGFQ27bN7LBxh0fiQVEh3xZtBqeC6tpoYEWeP6nXRz3NUPVRPfHMXDoM7EyS7+iTeDXl+FK4UpZS9TmrV1gdn57+pZ8aAGSRs1SCq7pDCoQ3Gyi3/izaBqvCRr0WOyEf+Th+9qwFQkuOxVB0CZOL9NM51k4hgNiquZQJxFZB9JhYAYBpF9JBUCYhhE9pFUCIhhENlHUiEghkFkH0mFgBgGkX0kFQJiGET2kVQIiGEQLUe6WJtpsqIrvBiIliOxNhOIdomWI7E2E4h2iZYjsTYTiHaJ1iOxNhOINonsI6kQEMMguonE2kwgWiKyj6RCQAyDyD6SCgExDKLtyKy3QNBMpoGiK7wYiJYj5W+uc0zUg2iNaDmyHB1hoh5ES0TLkVUN+tIzqBrJ327am3S3WBD9VLby1dowmLTIfYfofspieYO6n5Jx2gdVa1Vp+qBJ/afaUXuLDZELr5+vwR20U3SIt3/OtLhBrZbYBKKvSBjUjmBQR5EwqB3BoK4i0Qe1osUNuvY+6FCkF4EYHtHMZuRICPIgGBRiLRgUYi0YFGItGBRiLRgUYi0YFGItGBRiLRgUWkADF8FrBINC/jV0EbxGMCjkX0MXwWuE7+JB9E0cvgheZzMjU9qJ7F4+k1TXQbXeSjTXFvWOdCpiegof1xbVpaY7RouQzqmtNy98/VQ+eBH8hEg60zA06b1qXb6pvTrT4MLF+0kHUngovMo4+itQ7UFuJyzpb7ZPvJeb9UTCoPEZVNvSO+6DkiNh0PgMuqpI9EGj74PyjqRCQAyDmMuJ+odv2+TxfgsPg4LonZjn1y/v5+3B8UR9DKcSRBdENTq6fj3xHSQRISCGQawn6nvLyt+PpDPdKLrCi4GYl3ewz9hO1BMhIIZBZB9JhYAYBpF9JBUCYhhE9pFUCIhhENlHUiEghkFkH0mFgBgGkX0kFQLieonaq5kmRdKZ5EgqBMQwiOwjqRAQwyCyj6RCQAyDyD6SCgExDCL7SCoExDCI7COpEBDDILKPpEJADIPIPpIKATEMIvtIKgREv8T0ztoK6qJOAjH3s3gYp1MJogNiKn/TliUH60RPi4cxOpUgOiCWJjo+3TeRIdHX4mHkSCoERJ/E6+uufHZ+fksS6dPra6J+KiwfN0UTX21Siy0NV7YDNSjbxcNoEBC9EkU/sbDoeft4ur5ucvk/T58+5ONlf5AGrTap7qj8JfEUYs5+8TAiBETPRDlK2pTGExbMZFUpnFkNjpqb7tSFGMWD6IZ42ZfVo3BhWlwyt8vKFUHE9mpTflRWHiaua/EwIgTEBYjChbVBy/FS06C3IdRlP7KUDWpQEG0Ty4ZcGlQ18S+n6nfszSa+2Y2U/dIpRHpePUVSISB6JR6l+eQo6DZIEvWlsGQ1YFKDpGKTqlRHJu41g6QNmngQ5xHTontZTDPJHqacUypc25pmkpuy8UG5ZppJeBoGBdEG0eArzUnEsuq8/PQHDAqiBaJ9g16/yD1efsZEPYgWiPYNWs7pZxNWsIVBQfRNZB9JhYAYBpF9JBUCYhhE9pFUCIhhENlHUiEghkFkH0mFgBgGkX0kFQJiGET2kVQIiOslYnU7EFdDZB9JhYAYBpF9JBUCYhhE9pFUCIhhENlHUiEghkFkH0mFgBgGkX0kFQJiGET2kVQIiGEQcyweBiJnIhYPA5E1EYuHgcia6G3xMPXdav0Fq3zS3mJB9FPZyldrw2DSIvcdIvlL5MnSEB3SdET36kK8LB6W1H+qHbW32BD5VPbzNbiDdooO8fbPmXpE56ZZ3qBeImFQO4rCoEssHgaD2lEUBl0i0otADI9oZjNypMnuhquuybtgI6Ncm21eTIbZtJN8mmBQU8GgMChrwaDzk1/2RcPvdOkbk93BoJM2LybvNejl89TlnmBQU8GgNpJnU2+/BIOaCgZFH5S1YNA1GxSC7AoGhVgLBoVYCwaFWAsGhVgLBoVYCwaFWAsGhVjLlkGP1Tf/WZIM3lK0Ulrdu3lKYlYqbwLY1XHoONKdZuNx0lUSflRd1N4piWpzO6u3o28lv23uHFl9WmaUsyWDFrcOy9VVAHd/q3f+9FH8rG9KYl5KN9UvEpvKNgO/XjhvNQatzxUDXfaFoTolUW3uZLU++nbyenMneX1a5pSzJYPWfGm+ewVQVytTEvOTtlbUGvT65Z+atIw+k9ev5e0y2yVx29zPqjr6fsEVm3vJi9Myp5wtGTT727ao5cWnJj/eqc6P/zZIzE5aK6baJizd6cxcnysOKo+mWxLV5l5Wizd6BVdu7iYvT8uccrbVB/3xkaeHiXk5Pn0UadZo0KErGTXHISoObW1bnSsOGjdoL6vl0feSlyelf2Szy9niKH6g8u9L5nVyYmYavLGqxorV/danpV5GF10T32ommlmtjr6TvHlSOkc2u5xtNfHiM5JOHffUH6j1DZL02R2uIbRNfHWuOKhaJalTEo2KtZHVOkk7ef20k9xKOVucZtqpw5o4zTQ9MSsd9ZXi0aimHEy9gGQpaEqi2tzOanH0veS3zZ0jMzLFgDBRD7EWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrEWDAqxFgwKsRYMCrHW/wE28mmH0xIt9gAAAABJRU5ErkJggg=="><!-- --></p>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>##   Sepal.Length    Sepal.Width    Petal.Length    Petal.Width   
##  Min.   :4.600   Min.   :2.50   Min.   :1.300   Min.   :0.200  
##  1st Qu.:4.925   1st Qu.:3.00   1st Qu.:1.400   1st Qu.:0.200  
##  Median :5.500   Median :3.05   Median :3.250   Median :1.000  
##  Mean   :5.590   Mean   :3.13   Mean   :3.290   Mean   :1.130  
##  3rd Qu.:6.275   3rd Qu.:3.35   3rd Qu.:5.175   3rd Qu.:1.975  
##  Max.   :6.700   Max.   :3.60   Max.   :5.400   Max.   :2.300  
##        Species 
##  setosa    :5  
##  versicolor:0  
##  virginica :5  
##                
##                
## </pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">iris <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">subset</span>(Sepal.Length <span class="string">&gt;</span><span class="string"> </span><span class="keyword">mean</span>(Sepal.Length)) <span class="string">%$%</span>
<span class="string">  </span><span class="keyword">cor</span>(Sepal.Length, Sepal.Width)</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## [1] 0.3361992</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r"><span class="comment"># iris %&gt;%</span>
<span class="comment">#   subset(Sepal.Length &gt; mean(Sepal.Length)) %&gt;%</span>
<span class="comment">#   select(Sepal.Length, Sepal.Width) %&gt;%</span>
<span class="comment">#   cor</span>
iris <span class="string">%&gt;%</span>
<span class="string">  </span><span class="keyword">subset</span>(Sepal.Length <span class="string">&gt;</span><span class="string"> </span><span class="keyword">mean</span>(Sepal.Length)) <span class="string">%$%</span><span class="string"> </span>
<span class="string">  </span><span class="keyword">add</span>(Sepal.Length, Sepal.Width) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">  </span>head</pre></td></tr></tbody></table></figure>
<figure class="highlight OUTPUT"><table><tbody><tr><td class="code"><pre>## [1] 10.2  9.6 10.0  9.3  9.6  9.5</pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">iris<span class="string">$</span>Sepal.Length <span class="string">%&lt;&gt;%</span><span class="string"> </span>sqrt
<span class="comment"># iris$Sepal.Length &lt;- </span>
<span class="comment">#   iris$Sepal.Length %&gt;%</span>
<span class="comment">#   sqrt()</span></pre></td></tr></tbody></table></figure>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">dat &lt;-<span class="string"> </span><span class="keyword">filter</span>(babynames, <span class="keyword">substr</span>(babynames<span class="string">$</span>name, <span class="number">1</span>, <span class="number">2</span>)<span class="string">==</span><span class="string">"Sa"</span>)
<span class="comment"># # A tibble: 6 x 5</span>
<span class="comment">#    year sex   name         n     prop</span>
<span class="comment">#   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;    &lt;dbl&gt;</span>
<span class="comment"># 1  1880 F     Sarah     1288 0.0132  </span>
<span class="comment"># 2  1880 F     Sallie     404 0.00414 </span>
<span class="comment"># 3  1880 F     Sadie      317 0.00325 </span>
<span class="comment"># 4  1880 F     Sara       165 0.00169 </span>
<span class="comment"># 5  1880 F     Sally       80 0.000820</span>
<span class="comment"># 6  1880 F     Samantha    21 0.000215</span>
<span class="keyword">dim</span>(dat)
<span class="comment"># 27093     5</span></pre></td></tr></tbody></table></figure>
<table>
<thead>
<tr class="header">
<th>extract</th>
<th><code>[</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>extract2</td>
<td><code>[[</code></td>
</tr>
<tr class="even">
<td>inset</td>
<td><code>[&lt;-</code></td>
</tr>
<tr class="odd">
<td>inset2</td>
<td><code>[[&lt;-</code></td>
</tr>
<tr class="even">
<td>use_series</td>
<td><code>$</code></td>
</tr>
<tr class="odd">
<td>add</td>
<td><code>+</code></td>
</tr>
<tr class="even">
<td>subtract</td>
<td><code>-</code></td>
</tr>
<tr class="odd">
<td>multiply_by</td>
<td><code>*</code></td>
</tr>
<tr class="even">
<td>raise_to_power</td>
<td><code>^</code></td>
</tr>
<tr class="odd">
<td>multiply_by_matrix</td>
<td><code>%*%</code></td>
</tr>
<tr class="even">
<td>divide_by</td>
<td><code>/</code></td>
</tr>
<tr class="odd">
<td>divide_by_int</td>
<td><code>%/%</code></td>
</tr>
<tr class="even">
<td>mod</td>
<td><code>%%</code></td>
</tr>
<tr class="odd">
<td>is_in</td>
<td><code>%in%</code></td>
</tr>
<tr class="even">
<td>and</td>
<td><code>&amp;</code></td>
</tr>
<tr class="odd">
<td>or</td>
<td><code>|</code></td>
</tr>
<tr class="even">
<td>equals</td>
<td><code>==</code></td>
</tr>
<tr class="odd">
<td>is_greater_than</td>
<td><code>&gt;</code></td>
</tr>
<tr class="even">
<td>is_weakly_greater_than</td>
<td><code>&gt;=</code></td>
</tr>
<tr class="odd">
<td>is_less_than</td>
<td><code>&lt;</code></td>
</tr>
<tr class="even">
<td>is_weakly_less_than</td>
<td><code>&lt;=</code></td>
</tr>
<tr class="odd">
<td>not (<code>n'est pas</code>)</td>
<td><code>!</code></td>
</tr>
<tr class="even">
<td>set_colnames</td>
<td><code>colnames&lt;-</code></td>
</tr>
<tr class="odd">
<td>set_rownames</td>
<td><code>rownames&lt;-</code></td>
</tr>
<tr class="even">
<td>set_names</td>
<td><code>names&lt;-</code></td>
</tr>
</tbody>
</table>
<figure class="highlight R"><table><tbody><tr><td class="code"><pre class="sourceCode r">## qplot
<span class="comment"># babynames %&gt;%</span>
<span class="comment">#           filter(name %&gt;% substr(1, 2) %&gt;% equals("Sa")) %&gt;%</span>
<span class="comment">#           group_by(year, sex) %&gt;%</span>
<span class="comment">#                     select(n) %&gt;% </span>
<span class="comment">#           summarise_all(funs(total = sum(n)))%&gt;%</span>
<span class="comment">#           qplot(year, total, color = sex, data=., geom="line") %&gt;%</span>
<span class="comment">#           add(ggtitle("Names starting with Sa by pipe")) %&gt;%</span>
<span class="comment">#           add(theme_minimal()) %&gt;%</span>
<span class="comment">#           print</span>

babynames <span class="string">%&gt;%</span>
<span class="string">          </span><span class="keyword">filter</span>(name <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">substr</span>(<span class="number">1</span>, <span class="number">2</span>) <span class="string">%&gt;%</span><span class="string"> </span><span class="keyword">equals</span>(<span class="string">"Sa"</span>)) <span class="string">%&gt;%</span>
<span class="string">          </span><span class="keyword">group_by</span>(year,sex) <span class="string">%&gt;%</span>
<span class="string">          </span><span class="keyword">select</span>(n) <span class="string">%&gt;%</span><span class="string"> </span>
<span class="string">          </span><span class="keyword">summarise_all</span>(<span class="keyword">funs</span>(<span class="dt">total =</span> <span class="keyword">sum</span>(n)))<span class="string">%&gt;%</span>
<span class="string">          </span>{<span class="keyword">ggplot</span>(.) <span class="string">+</span><span class="string"> </span><span class="keyword">geom_line</span>(<span class="keyword">aes</span>(year, total, <span class="dt">color =</span> sex))}  <span class="string">%&gt;%</span>
<span class="string">          </span><span class="keyword">add</span>(<span class="keyword">ggtitle</span>(<span class="string">"Names starting with Sa by pipe"</span>)) <span class="string">%&gt;%</span>
<span class="string">          </span><span class="keyword">add</span>(<span class="keyword">theme_minimal</span>()) <span class="string">%&gt;%</span>
<span class="string">          </span>print</pre></td></tr></tbody></table></figure>
<p><img src="data:image/png;base64,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"><!-- --></p>
</div>
<div class="section level1" id="references">
<h1>REFERENCES</h1>
<ul>
<li><a class="uri" target="_blank" rel="noopener" href="http://r4ds.had.co.nz/pipes.html">http://r4ds.had.co.nz/pipes.html</a></li>
<li><a class="uri" target="_blank" rel="noopener" href="http://www.cookbook-r.com/Manipulating_data/">http://www.cookbook-r.com/Manipulating_data/</a></li>
<li><a class="uri" target="_blank" rel="noopener" href="http://dplyr.tidyverse.org/">http://dplyr.tidyverse.org/</a></li>
<li><a class="uri" target="_blank" rel="noopener" href="http://tidyr.tidyverse.org/">http://tidyr.tidyverse.org/</a></li>
</ul>
</div>
</section>
</div>
</div>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Joaxin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://u.pinsflora.xyz/Reverie/html/R_stats_mData/">https://u.pinsflora.xyz/Reverie/html/R_stats_mData/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Stats/">Stats</a><a class="post-meta__tags" href="/tags/Data-Manipulation/">Data Manipulation</a></div><div class="post_share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_wechat"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_facebook_messenger"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/Reverie/html/R_stats_corrlation/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_Correlation.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">R Correlation</div></div></a></div><div class="next-post pull-right"><a href="/Reverie/html/R_stats_graphics_errorbar/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_errorbar_.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">R Error Bar</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/Reverie/html/R_stats_anova/" title="R ANOVA"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_anova.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2018-04-21</div><div class="title">R ANOVA</div></div></a></div><div><a href="/Reverie/html/R_stats_distribution/" title="R Distributions"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_distribution_smart_city_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2018-04-21</div><div class="title">R Distributions</div></div></a></div><div><a href="/Reverie/html/R_stats_dirty_data/" title="R Dirty Data"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_dirty_data_wallpaper_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2018-04-21</div><div class="title">R Dirty Data</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://avatars2.githubusercontent.com/u/8346164?s=460&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Joaxin</div><div class="author-info__description">When I close my eyes, I'm in my own ♡cean 🐟aves.</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">340</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">110</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">34</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/joaxin"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/joaxin" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:lotility@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">感謝訪問本站，若喜歡請收藏 ^_^</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#datasets"><span class="toc-number">1.</span> <span class="toc-text">数据集(Datasets)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#iris"><span class="toc-number">1.1.</span> <span class="toc-text">Iris</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#converting-data-between-wide-and-long-"><span class="toc-number">2.</span> <span class="toc-text">Converting data between wide and long (长宽数据转换)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#wide-to-long-fromat"><span class="toc-number">2.1.</span> <span class="toc-text">Wide to Long fromat(宽转长)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tidyr"><span class="toc-number">2.1.1.</span> <span class="toc-text">Tidyr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reshape2"><span class="toc-number">2.1.2.</span> <span class="toc-text">Reshape2</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#long-to-wide-fromat"><span class="toc-number">2.2.</span> <span class="toc-text">Long to Wide fromat(长转宽)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#find-duplicated-rows"><span class="toc-number">2.2.1.</span> <span class="toc-text">Find duplicated rows</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tidyr-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">Tidyr</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reshape2-1"><span class="toc-number">2.2.3.</span> <span class="toc-text">Reshape2</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#merging-data"><span class="toc-number">3.</span> <span class="toc-text">Merging data</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#dplyr"><span class="toc-number">4.</span> <span class="toc-text">Dplyr</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ordering-data"><span class="toc-number">4.1.</span> <span class="toc-text">Ordering data</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#recoding-data"><span class="toc-number">4.2.</span> <span class="toc-text">Recoding data</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#select-filter-mutate"><span class="toc-number">4.3.</span> <span class="toc-text">Select &amp; Filter &amp; mutate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#summarise"><span class="toc-number">4.4.</span> <span class="toc-text">Summarise</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#basic"><span class="toc-number">4.4.1.</span> <span class="toc-text">Basic</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#putting-some-nas"><span class="toc-number">4.4.2.</span> <span class="toc-text">Putting some NAs</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#keep-rownames-in-dplyr"><span class="toc-number">4.5.</span> <span class="toc-text">Keep rownames in dplyr</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pipeliningchaining"><span class="toc-number">5.</span> <span class="toc-text">Pipelining(chaining)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#references"><span class="toc-number">6.</span> <span class="toc-text">REFERENCES</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/Lang/es/duo_es/" title="No title"><img src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_seeds.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="No title"/></a><div class="content"><a class="title" href="/Lang/es/duo_es/" title="No title">No title</a><time datetime="2020-06-29T03:44:49.224Z" title="Created 2020-06-29 11:44:49">2020-06-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Lang/kl/duo_kl001_intro/" title="Klingon- Vol.1 - Introduction"><img src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_little_girl_phone.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Klingon- Vol.1 - Introduction"/></a><div class="content"><a class="title" href="/Lang/kl/duo_kl001_intro/" title="Klingon- Vol.1 - Introduction">Klingon- Vol.1 - Introduction</a><time datetime="2020-06-26T16:00:00.000Z" title="Created 2020-06-27 00:00:00">2020-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Life/apps/life_apps_android_list/" title="安卓 | 装机必备清单及习惯步骤"><img src="https://i.postimg.cc/KYPmhV8w/android-new-logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安卓 | 装机必备清单及习惯步骤"/></a><div class="content"><a class="title" href="/Life/apps/life_apps_android_list/" title="安卓 | 装机必备清单及习惯步骤">安卓 | 装机必备清单及习惯步骤</a><time datetime="2020-06-20T04:29:10.462Z" title="Created 2020-06-20 12:29:10">2020-06-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pysnista/Intro/files/py_pillow/" title="Python - 操作图像"><img src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_little_girl_phone.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - 操作图像"/></a><div class="content"><a class="title" href="/Pysnista/Intro/files/py_pillow/" title="Python - 操作图像">Python - 操作图像</a><time datetime="2020-05-02T16:00:00.000Z" title="Created 2020-05-03 00:00:00">2020-05-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pysnista/Intro/files/py_files_pdf_word/" title="Python - PDF &amp; Word"><img src="https://i.loli.net/2020/07/09/6ALoRXnITgcuvy2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - PDF &amp; Word"/></a><div class="content"><a class="title" href="/Pysnista/Intro/files/py_files_pdf_word/" title="Python - PDF &amp; Word">Python - PDF &amp; Word</a><time datetime="2020-04-12T16:00:00.000Z" title="Created 2020-04-13 00:00:00">2020-04-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover_posts/r/R_stats_datamm_cover_kids_two_writing_cover.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Joaxin</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Refine, the Life</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="fasle"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/fae45343.js","daovoice")
</script><script>var isChatBtn = true
daovoice('init', {
  app_id: 'fae45343',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // 悬浮 ICON 是否显示
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (true) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // 悬浮 ICON 是否显示
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // 悬浮 ICON 是否显示
        },
      });
    }
  }
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>