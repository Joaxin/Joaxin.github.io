<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JavaScript Forms validation | Pinsflora</title><meta name="keywords" content="Javascript"><meta name="author" content="Joaxin"><meta name="copyright" content="Joaxin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="What is form validation? Go to any popular site with a registration form, and you will notice that they give you feedback when you don’t enter your data in the format they are expecting. You’ll get m">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript Forms validation">
<meta property="og:url" content="https://u.pinsflora.xyz/Web/js/web_js_validation/index.html">
<meta property="og:site_name" content="Pinsflora">
<meta property="og:description" content="What is form validation? Go to any popular site with a registration form, and you will notice that they give you feedback when you don’t enter your data in the format they are expecting. You’ll get m">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_stars_man_orchard_photos.jpg">
<meta property="article:published_time" content="2017-12-20T16:00:00.000Z">
<meta property="article:modified_time" content="2019-08-31T16:00:00.000Z">
<meta property="article:author" content="Joaxin">
<meta property="article:tag" content="Javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_stars_man_orchard_photos.jpg"><link rel="shortcut icon" href="/img/favicon-32x32.png"><link rel="canonical" href="https://u.pinsflora.xyz/Web/js/web_js_validation/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-177831205-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-177831205-1');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":600,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2019-09-01 00:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="Pinsflora" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://avatars2.githubusercontent.com/u/8346164?s=460&amp;v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">268</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">90</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">33</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Galleries"><i class="fa-fw /gallery/"></i><span> 0</span></a></li><li><a class="site-page child" href="/Movie"><i class="fa-fw /movies/"></i><span> 1</span></a></li><li><a class="site-page child" href="/Games"><i class="fa-fw /games/"></i><span> 2</span></a></li><li><a class="site-page child" href="/Tools"><i class="fa-fw /tools/"></i><span> 3</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_stars_man_orchard_photos.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Pinsflora</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Galleries"><i class="fa-fw /gallery/"></i><span> 0</span></a></li><li><a class="site-page child" href="/Movie"><i class="fa-fw /movies/"></i><span> 1</span></a></li><li><a class="site-page child" href="/Games"><i class="fa-fw /games/"></i><span> 2</span></a></li><li><a class="site-page child" href="/Tools"><i class="fa-fw /tools/"></i><span> 3</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript Forms validation</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2017-12-20T16:00:00.000Z" title="Created 2017-12-21 00:00:00">2017-12-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2019-08-31T16:00:00.000Z" title="Updated 2019-09-01 00:00:00">2019-09-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web/">Web</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web/JS/">JS</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">3.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>23min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaScript Forms validation"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="what-is-form-validation"><a class="markdownIt-Anchor" href="#what-is-form-validation"></a> What is form validation?</h2>
<p>Go to any popular site with a registration form, and you will notice that they give you feedback when you don’t enter your data in the format they are expecting. You’ll get messages such as:</p>
<ul>
<li>“This field is required” (You can’t leave this field blank.)</li>
<li>“Please enter your phone number in the format xxx-xxxx”</li>
<li>“Please enter a valid email address”</li>
<li>“Your password needs to be between 8 and 30 characters long and contain one uppercase letter, one symbol, and a number.”</li>
</ul>
<p>This is called <strong>form validation</strong>.</p>
<p>We want to make filling out web forms as easy as possible. So why do we insist on validating our forms? There are three main reasons:</p>
<ul>
<li>
<p><strong>We want to get the right data, in the right format.</strong> Our applications won’t work properly if our users’ data is stored in the incorrect format or if they don’t enter the correct information or omit information altogether.</p>
</li>
<li>
<p><strong>We want to protect our users’ accounts</strong>. Forcing our users to enter secure passwords makes it easier to protect their account information.</p>
</li>
<li>
<p>We want to protect ourselves. There are many ways that malicious users can misuse unprotected forms to damage the application they are part of.</p>
<p><strong>Warning:</strong> Never trust data passed to your server from the client. Even if your form is validating correctly and preventing malformed input, a malicious user can still alter the network request.</p>
</li>
</ul>
<p>There are two different types of form validation that you’ll encounter on the web:</p>
<ul>
<li>
<p>Client-side validation is validation that occurs in the browser before the data has been submitted to the server. Client-side validation is more user-friendly than server-side validation because it gives an instant response. Client-side validation is further subdivided into the following categories:</p>
<ul>
<li><strong>JavaScript</strong> validation is coded using JavaScript. This validation is completely customizable.</li>
<li><strong>Built-in form validation</strong> uses HTML5 form validation features. This validation generally doesn’t require JavaScript. Built-in form validation has better performance than, but is not as customizable as, JavaScript.</li>
</ul>
</li>
<li>
<p><strong>Server-side validation</strong> is validation that occurs on the server after the data has been submitted. Server-side code is used to validate the data before the data is saved in the database. If the data fails authentication, a response is sent back to the client with corrections that the user needs to make. Server-side validation is not as user-friendly as client-side validation because it doesn’t provide errors until the entire form has been submitted. However, server-side validation is your application’s last line of defense against incorrect or malicious data.</p>
</li>
</ul>
<p>In the real world, developers tend to use a combination of client-side and server-side validation.</p>
<h2 id="built-in-form-validation"><a class="markdownIt-Anchor" href="#built-in-form-validation"></a> Built-in form validation</h2>
<p>One of the features of HTML5 is the ability to validate most user data without relying on scripts.</p>
<p>When an element is valid, the following things are true:</p>
<ul>
<li>The element matches the <code>:valid</code> CSS pseudo-class, which lets you apply a specific style to valid elements.</li>
<li>If the user tries to send the data, the browser will submit the form, provided there is nothing else stopping it from doing so (e.g., JavaScript).</li>
</ul>
<p>When an element is invalid, the following things are true:</p>
<ul>
<li>The element matches the <code>:invalid</code> CSS pseudo-class, which lets you apply a specific style to invalid elements.</li>
<li>If the user tries to send the data, the browser will block the form and display an error message.</li>
</ul>
<p>The simplest HTML5 validation feature is the <code>required</code> attribute. To make an input mandatory, mark the element with this attribute. When this attribute is set, the form won’t submit and will display an error message when the input is empty. The input will also be considered invalid.</p>
<p>Add a <code>required</code> attribute to your input, as shown below.</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"choose"</span>&gt;</span>Would you prefer a banana or cherry?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"choose"</span> <span class="attr">name</span>=<span class="string">"i_like"</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p><a href="web/css/styl/forms2/web_css_forms_vali_css_required.html" target="_blank">See Live Here</a></p>
<h3 id="validating-against-a-regular-expression"><a class="markdownIt-Anchor" href="#validating-against-a-regular-expression"></a> Validating against a regular expression</h3>
<p>Another very common validation feature is the <code>pattern</code> attribute, which expects a Regular Expression as its value. A regular expression (regex) is a pattern that can be used to match character combinations in text strings, so regexs are ideal for form validation and serve a variety of other uses in JavaScript.</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"choose"</span>&gt;</span>Would you prefer a banana or a cherry?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"choose"</span> <span class="attr">name</span>=<span class="string">"i_like"</span> <span class="attr">required</span> <span class="attr">pattern</span>=<span class="string">"banana|cherry"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>In this example, the &lt;input&gt; element accepts one of two possible values: the string “banana” or the string “cherry”.</p>
<p>Remember that CSS and JavaScript can have side effects. So if you choose to use one of those libraries, you should always have robust fallback HTML in case the script fails. There are many reasons why scripts may fail, especially in the mobile world, and you need to design your Web site or app to handle these cases as best as possible.</p>
<figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Country code: &lt;input type="text" name="country_code" pattern="[A-Za-z]{3}" title="Three letter country code"&gt;</span><br><span class="line">&lt;input type="submit"&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="constraining-the-length-of-your-entries"><a class="markdownIt-Anchor" href="#constraining-the-length-of-your-entries"></a> Constraining the length of your entries</h3>
<p>You can constrain the size of all text fields by using the <code>minlength</code> and <code>maxlength</code> attributes. A field is invalid if its value is shorter than the <code>minlength</code> value or longer than the <code>maxlength</code> value. Browsers often don’t let the user type a longer value than expected into text fields anyway, but it is useful to have this fine-grained control available.</p>
<p>For number fields (i.e. <code>&lt;input type="number"&gt;</code>), the <code>min</code> and <code>max</code> attributes also provide a validation constraint. If the field’s value is lower than the <code>min</code> attribute or higher than the <code>max</code>attribute, the field will be invalid.</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"choose"</span>&gt;</span>Would you prefer a banana or a cherry?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"choose"</span> <span class="attr">name</span>=<span class="string">"i_like"</span> <span class="attr">required</span> <span class="attr">minlength</span>=<span class="string">"6"</span> <span class="attr">maxlength</span>=<span class="string">"6"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"number"</span>&gt;</span>How many would you like?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">id</span>=<span class="string">"number"</span> <span class="attr">name</span>=<span class="string">"amount"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">min</span>=<span class="string">"1"</span> <span class="attr">max</span>=<span class="string">"10"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"n1"</span>&gt;</span>How old are you?<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">id</span>=<span class="string">"n1"</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">pattern</span>=<span class="string">"\d+"</span> <span class="attr">min</span>=<span class="string">"12"</span> <span class="attr">max</span>=<span class="string">"120"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"t3"</span>&gt;</span>Leave a short message<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">id</span>=<span class="string">"t3"</span> <span class="attr">name</span>=<span class="string">"msg"</span> <span class="attr">rows</span>=<span class="string">"5"</span> <span class="attr">maxlength</span>=<span class="string">"10"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- maxlength not work --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>As you saw in the examples above, each time a user tries to submit an invalid form, the browser displays an error message. The way this message is displayed depends on the browser.</p>
<p>These automated messages have two drawbacks:</p>
<ul>
<li>There is no standard way to change their look and feel with CSS.</li>
<li>They depend on the browser locale, which means that you can have a page in one language but an error message displayed in another language.</li>
</ul>
<h2 id="js"><a class="markdownIt-Anchor" href="#js"></a> JS</h2>
<h3 id="pprevent-the-default"><a class="markdownIt-Anchor" href="#pprevent-the-default"></a> p\Prevent the default</h3>
<p>Sometimes, you’ll come across a situation where you want to prevent an event from doing what it does by default. The most common example is that of a web form, for example, a custom registration form. When you  fill in the details and select the submit button, the natural behavior  is for the data to be submitted to a specified page on the server for  processing, and the browser to be redirected to a “success message” page of some kind (or the same page, if another is not specified.)</p>
<p>The trouble comes when the user has not submitted the data correctly — as a developer, you want to prevent the submission to the server and  give an error message saying what’s wrong and what needs to be done to  put things right.</p>
<p>First, a simple HTML form that requires you to enter your first and last name:</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"fname"</span>&gt;</span>First name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"fname"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"lname"</span>&gt;</span>Last name: <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"lname"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"submit"</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>Now some JavaScript — here we implement a very simple check inside an <code>onsubmit</code> event handler (the submit event is fired on a form when it is  submitted) that tests whether the text fields are empty. If they are, we call the <code>preventDefault()</code> function on the event object — which stops the form submission — and  then display an error message in the paragraph below our form to tell  the user what’s wrong:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> form = <span class="built_in">document</span>.querySelector(<span class="string">'form'</span>);</span><br><span class="line"><span class="keyword">const</span> fname = <span class="built_in">document</span>.getElementById(<span class="string">'fname'</span>);</span><br><span class="line"><span class="keyword">const</span> lname = <span class="built_in">document</span>.getElementById(<span class="string">'lname'</span>);</span><br><span class="line"><span class="keyword">const</span> para = <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>);</span><br><span class="line"></span><br><span class="line">form.onsubmit = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (fname.value === <span class="string">''</span> || lname.value === <span class="string">''</span>) {</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    para.textContent = <span class="string">'You need to fill in both names!'</span>;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>Obviously, this is pretty weak form validation — it wouldn’t stop the user validating the form with spaces or numbers entered into the  fields, for example — but it is OK for example purposes. The output is  as follows:</p>
<p><a href="web/css/styl/forms2/web_css_forms_vali_js_submit_msg.html" target="_blank">See Live Here</a></p>
<h3 id="textarea"><a class="markdownIt-Anchor" href="#textarea"></a> TextArea</h3>
<p>when the maxlength attribute of textArea is not working:</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"txt"</span> <span class="attr">id</span>=<span class="string">"txt"</span> <span class="attr">rows</span>=<span class="string">"3"</span> <span class="attr">onkeyup</span>=<span class="string">"validateLength(this)"</span> <span class="attr">onblur</span>=<span class="string">"validateLength(this)"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validateLength</span>(<span class="params">txt</span>)</span>{</span><br><span class="line"> <span class="keyword">var</span> intro = txt.innerHTML.replace(<span class="regexp">/^\s+|\s+$/g</span>,<span class="string">""</span>);</span><br><span class="line"> <span class="keyword">if</span>(intro.length&gt;<span class="number">512</span>){</span><br><span class="line">  txt.innerHTML=intro.substr(<span class="number">0</span>,<span class="number">512</span>);</span><br><span class="line"> }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">onkeyup</span>=<span class="string">"this.value = this.value.slice(0, 80)"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">onkeyup</span>=<span class="string">"this.value = this.value.substring(0, 80)"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">DjCheckMaxlength</span>(<span class="params">oInObj</span>)</span></span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> iMaxLen = <span class="built_in">parseInt</span>(oInObj.getAttribute(<span class="string">'maxlength'</span>));</span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> iCurLen = oInObj.value.length;</span></span><br><span class="line"> </span><br><span class="line"> if ( oInObj.getAttribute &amp;&amp; iCurLen &gt; iMaxLen )</span><br><span class="line"> {</span><br><span class="line">   oInObj.value = oInObj.value.substring(0, iMaxLen);</span><br><span class="line"> }</span><br><span class="line"><span class="javascript">} <span class="comment">//@ END OF DjCheckMaxlength()</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">maxlength</span>=<span class="string">"80"</span> <span class="attr">onkeyup</span>=<span class="string">"return DjCheckMaxlength(this);"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">rows</span>=<span class="string">"3"</span> <span class="attr">cols</span>=<span class="string">"40"</span> <span class="attr">maxlength</span>=<span class="string">"200"</span> <span class="attr">onkeydown</span>=<span class="string">"checklength(this);"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">function checklength(obj) {</span><br><span class="line">   var max = obj.maxlength;</span><br><span class="line">   if(max == null || max == "" || max == undefined) {</span><br><span class="line">     return;</span><br><span class="line">   }</span><br><span class="line">   if(obj.value.length &gt; max) {</span><br><span class="line">     alert("请不要超过最大长度:" + max);</span><br><span class="line">    obj.value=obj.value.substring(0,(max-1));</span><br><span class="line">     return;</span><br><span class="line">   }</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">DjTextArea_AddMaxlengthAttr</span>(<span class="params"></span>)</span></span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> aX = <span class="built_in">document</span>.getElementsByTagName_r(<span class="string">'textarea'</span>);</span></span><br><span class="line"> </span><br><span class="line"><span class="javascript"> <span class="keyword">for</span> ( <span class="keyword">var</span> iI = <span class="number">0</span>; aX.length &gt; iI; iI++ )</span></span><br><span class="line"> {</span><br><span class="line"><span class="javascript">   <span class="keyword">if</span> ( aX[iI].getAttribute(<span class="string">'maxlength'</span>) )</span></span><br><span class="line">   {</span><br><span class="line">     aX[iI].onkeyup = aX[iI].onchange = DjTextArea_CheckMaxlength;</span><br><span class="line">   }</span><br><span class="line"> }</span><br><span class="line"><span class="javascript">} <span class="comment">//@ END OF DjTextArea_AddMaxlengthAttr()</span></span></span><br><span class="line"> </span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">DjTextArea_CheckMaxlength</span>(<span class="params"></span>)</span></span></span><br><span class="line">{</span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> iMaxLen = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.getAttribute(<span class="string">'maxlength'</span>));</span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> iCurLen = <span class="built_in">this</span>.value.length;</span></span><br><span class="line"> </span><br><span class="line"><span class="javascript"> <span class="keyword">if</span> ( <span class="built_in">this</span>.getAttribute &amp;&amp; iCurLen &gt; iMaxLen )</span></span><br><span class="line"> {</span><br><span class="line"><span class="javascript">   <span class="built_in">this</span>.value = <span class="built_in">this</span>.value.substring(<span class="number">0</span>, iMaxLen);</span></span><br><span class="line"> }</span><br><span class="line"><span class="javascript">} <span class="comment">//@ END OF DjTextArea_CheckMaxlength()</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"DjTextArea_AddMaxlengthAttr();"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="the-constraint-validation-api"><a class="markdownIt-Anchor" href="#the-constraint-validation-api"></a> The constraint validation API</h2>
<p>More and more browsers now support the constraint validation API, and it’s becoming reliable. This API consists of a set of methods and properties available on specific form element interfaces:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonElement">HTMLButtonElement</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFieldSetElement">HTMLFieldSetElement</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement">HTMLInputElement</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLOutputElement">HTMLOutputElement</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement">HTMLSelectElement</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement">HTMLTextAreaElement</a></li>
</ul>
<p><strong>Constraint validation API properties</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>validationMessage</code></td>
<td style="text-align:left">A localized message describing the validation constraints that the control doesn’t satisfy (if any) or the empty string if the control is not a candidate for constraint validation (<code>willValidate</code> is <code>false</code>) or the element’s value satisfies its constraints.</td>
</tr>
<tr>
<td style="text-align:left"><code>validity</code></td>
<td style="text-align:left">A <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/ValidityState"><code>ValidityState</code></a> object describing the validity state of the element. See that article for details of possible validity states.</td>
</tr>
<tr>
<td style="text-align:left"><code>willValidate</code></td>
<td style="text-align:left">Returns <code>true</code> if the element will be validated when the form is submitted; <code>false</code> otherwise.</td>
</tr>
</tbody>
</table>
<p><strong>Constraint validation API methods</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">Method</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>checkValidity()</code></td>
<td style="text-align:left">Returns <code>true</code> if the element’s value has no validity problems; <code>false</code> otherwise. If the element is invalid, this method also causes an <code>invalid</code> event at the element.</td>
</tr>
<tr>
<td style="text-align:left"><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/reportValidity"><code>HTMLFormElement.reportValidity()</code></a></td>
<td style="text-align:left">Returns <code>true</code> if the element or its child controls satisfy validation constraints. When <code>false</code> is returned, cancelable <code>invalid</code> events are fired for each invalid element and validation problems are reported to the user.</td>
</tr>
<tr>
<td style="text-align:left"><code>setCustomValidity(*message*)</code></td>
<td style="text-align:left">Adds a custom error message to the element; if you set a custom error message, the element is considered to be invalid, and the specified error is displayed. This lets you use JavaScript code to establish a validation failure other than those offered by the standard constraint validation API. The message is shown to the user when reporting the problem.  If the argument is the empty string, the custom error is cleared.</td>
</tr>
</tbody>
</table>
<p>For legacy browsers, it’s possible to use a <a target="_blank" rel="noopener" href="https://hyperform.js.org/">polyfill such as Hyperform </a>to compensate for the lack of support for the constraint validation API. Because you’re already using JavaScript, using a polyfill isn’t an added burden to your website or web application’s design or implementation.</p>
<h3 id="example-using-the-constraint-validation-api"><a class="markdownIt-Anchor" href="#example-using-the-constraint-validation-api"></a> Example using the constraint validation API</h3>
<p>Here’s a quick example:</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"mail"</span>&gt;</span>I would like you to provide me an e-mail<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"mail"</span> <span class="attr">name</span>=<span class="string">"mail"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>In JavaScript, you call the <code>setCustomValidity()</code> method:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">"mail"</span>);</span><br><span class="line"></span><br><span class="line">email.addEventListener(<span class="string">"input"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="keyword">if</span> (email.validity.typeMismatch) {</span><br><span class="line">    email.setCustomValidity(<span class="string">"I expect an e-mail, darling!"</span>);</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    email.setCustomValidity(<span class="string">""</span>);</span><br><span class="line">  }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p><a href="web/css/styl/forms2/web_css_forms_vali_js_email_msg.html" target="_blank">See Live Here</a></p>
<p>Let’s now use another more complicated example to see how to use this API to build custom error messages. First, the HTML:</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">novalidate</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"mail"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>Please enter an email address:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"mail"</span> <span class="attr">name</span>=<span class="string">"mail"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error"</span> <span class="attr">aria-live</span>=<span class="string">"polite"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>This simple form uses the <code>novalidate</code> attribute to turn off the browser’s automatic validation; this lets our script take control over validation. However, this doesn’t disable support for the constraint validation API nor the application of the CSS pseudo-class <code>:valid</code>, <code>:invalid</code>, <code>:in-range</code> and <code>:out-of-range</code> classes. That means that even though the browser doesn’t automatically check the validity of the form before sending its data, you can still do it yourself and style the form accordingly.</p>
<p>The <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Accessibility/ARIA/ARIA_Live_Regions"><code>aria-live</code></a> attribute makes sure that our custom error message will be presented to everyone, including those using assistive technologies, such as screen readers.</p>
<h5 id="javascript"><a class="markdownIt-Anchor" href="#javascript"></a> JavaScript</h5>
<p>The following JavaScript code handles the custom error validation.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// There are many ways to pick a DOM node; here we get the form itself and the email</span></span><br><span class="line"><span class="comment">// input box, as well as the span element into which we will place the error message.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> form  = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'form'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">'mail'</span>);</span><br><span class="line"><span class="keyword">var</span> error = <span class="built_in">document</span>.querySelector(<span class="string">'.error'</span>);</span><br><span class="line"></span><br><span class="line">email.addEventListener(<span class="string">"input"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="comment">// Each time the user types something, we check if the</span></span><br><span class="line">  <span class="comment">// email field is valid.</span></span><br><span class="line">  <span class="keyword">if</span> (email.validity.valid) {</span><br><span class="line">    <span class="comment">// In case there is an error message visible, if the field</span></span><br><span class="line">    <span class="comment">// is valid, we remove the error message.</span></span><br><span class="line">    error.innerHTML = <span class="string">""</span>; <span class="comment">// Reset the content of the message</span></span><br><span class="line">    error.className = <span class="string">"error"</span>; <span class="comment">// Reset the visual state of the message</span></span><br><span class="line">  }</span><br><span class="line">}, <span class="literal">false</span>);</span><br><span class="line">form.addEventListener(<span class="string">"submit"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">  <span class="comment">// Each time the user tries to send the data, we check</span></span><br><span class="line">  <span class="comment">// if the email field is valid.</span></span><br><span class="line">  <span class="keyword">if</span> (!email.validity.valid) {</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// If the field is not valid, we display a custom</span></span><br><span class="line">    <span class="comment">// error message.</span></span><br><span class="line">    error.innerHTML = <span class="string">"I expect an e-mail, darling!"</span>;</span><br><span class="line">    error.className = <span class="string">"error active"</span>;</span><br><span class="line">    <span class="comment">// And we prevent the form from being sent by canceling the event</span></span><br><span class="line">    event.preventDefault();</span><br><span class="line">  }</span><br><span class="line">}, <span class="literal">false</span>);</span><br></pre></td></tr></tbody></table></figure>
<p>Here is the live result:</p>
<p><a href="web/css/styl/forms2/web_css_forms_vali_js_email_msg2.html" target="_blank">See Live Here</a></p>
<p>The constraint validation API gives you a powerful tool to handle form validation, letting you have enormous control over the user interface above and beyond what you can do with HTML and CSS alone.</p>
<h2 id="validating-forms-without-a-built-in-api"><a class="markdownIt-Anchor" href="#validating-forms-without-a-built-in-api"></a> Validating forms without a built-in API</h2>
<p>Sometimes, such as with legacy browsers or custom widgets, you won’t be able to or won’t want to use the constraint validation API. In that case, you’re still able to use JavaScript to validate your form. Validating a form is more a question of user interface than real data validation.</p>
<p>To validate a form, ask yourself a few questions:</p>
<ul>
<li>
<p>What kind of validation should I perform?</p>
<p>You need to determine how to validate your data: string operations, type conversion, regular expressions, and so on. It’s up to you. Just remember that form data is always text and is always provided to your script as strings.</p>
</li>
<li>
<p>What should I do if the form doesn’t validate?</p>
<p>This is clearly a UI matter. You have to decide how the form will behave. Does the form send the data anyway? Should you highlight the fields that are in error? Should you display error messages?</p>
</li>
<li>
<p>How can I help the user to correct invalid data?</p>
<p>In order to reduce the user’s frustration, it’s very important to provide as much helpful information as possible in order to guide them in correcting their inputs. You should offer up-front suggestions so they know what’s expected, as well as clear error messages. If you want to dig into form validation UI requirements, there are some useful articles you should read:SmashingMagazine: <a target="_blank" rel="noopener" href="http://uxdesign.smashingmagazine.com/2012/06/27/form-field-validation-errors-only-approach/">Form-Field Validation: The Errors-Only Approach</a>SmashingMagazine: <a target="_blank" rel="noopener" href="http://www.smashingmagazine.com/2009/07/07/web-form-validation-best-practices-and-tutorials/">Web Form Validation: Best Practices and Tutorials</a>Six Revision: <a target="_blank" rel="noopener" href="http://sixrevisions.com/user-interface/best-practices-for-hints-and-validation-in-web-forms/">Best Practices for Hints and Validation in Web Forms</a>A List Apart: <a target="_blank" rel="noopener" href="http://www.alistapart.com/articles/inline-validation-in-web-forms/">Inline Validation in Web Forms</a></p>
</li>
</ul>
<h4 id="an-example-that-doesnt-use-the-constraint-validation-api"><a class="markdownIt-Anchor" href="#an-example-that-doesnt-use-the-constraint-validation-api"></a> An example that doesn’t use the constraint validation API</h4>
<p>In order to illustrate this, let’s rebuild the previous example so that it works with legacy browsers:</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"mail"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>Please enter an email address:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"mail"</span> <span class="attr">id</span>=<span class="string">"mail"</span> <span class="attr">name</span>=<span class="string">"mail"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"error"</span> <span class="attr">aria-live</span>=<span class="string">"polite"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Some legacy browsers need to have the `type` attribute</span></span><br><span class="line"><span class="comment">       explicitly set to `submit` on the `button`element --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>As you can see, the HTML is almost the same; we just removed the HTML validation features. Note that <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Accessibility/ARIA">ARIA</a> is an independent specification that’s not specifically related to HTML5.</p>
<h5 id="javascript-2"><a class="markdownIt-Anchor" href="#javascript-2"></a> JavaScript</h5>
<p>The big changes are in the JavaScript code, which needs to do much more of the heavy lifting.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// There are fewer ways to pick a DOM node with legacy browsers</span></span><br><span class="line"><span class="keyword">var</span> form  = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'form'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">'mail'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// The following is a trick to reach the next sibling Element node in the DOM</span></span><br><span class="line"><span class="comment">// This is dangerous because you can easily build an infinite loop.</span></span><br><span class="line"><span class="comment">// In modern browsers, you should prefer using element.nextElementSibling</span></span><br><span class="line"><span class="keyword">var</span> error = email;</span><br><span class="line"><span class="keyword">while</span> ((error = error.nextSibling).nodeType != <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// As per the HTML5 Specification</span></span><br><span class="line"><span class="keyword">var</span> emailRegExp = <span class="regexp">/^[a-zA-Z0-9.!#$%&amp;'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Many legacy browsers do not support the addEventListener method.</span></span><br><span class="line"><span class="comment">// Here is a simple way to handle this; it's far from the only one.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addEvent</span>(<span class="params">element, event, callback</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> previousEventCallBack = element[<span class="string">"on"</span>+event];</span><br><span class="line">  element[<span class="string">"on"</span>+event] = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> output = callback(e);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// A callback that returns `false` stops the callback chain</span></span><br><span class="line">    <span class="comment">// and interrupts the execution of the event callback.</span></span><br><span class="line">    <span class="keyword">if</span> (output === <span class="literal">false</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> previousEventCallBack === <span class="string">'function'</span>) {</span><br><span class="line">      output = previousEventCallBack(e);</span><br><span class="line">      <span class="keyword">if</span>(output === <span class="literal">false</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">// Now we can rebuild our validation constraint</span></span><br><span class="line"><span class="comment">// Because we do not rely on CSS pseudo-class, we have to </span></span><br><span class="line"><span class="comment">// explicitly set the valid/invalid class on our email field</span></span><br><span class="line">addEvent(<span class="built_in">window</span>, <span class="string">"load"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="comment">// Here, we test if the field is empty (remember, the field is not required)</span></span><br><span class="line">  <span class="comment">// If it is not, we check if its content is a well-formed e-mail address.</span></span><br><span class="line">  <span class="keyword">var</span> test = email.value.length === <span class="number">0</span> || emailRegExp.test(email.value);</span><br><span class="line"></span><br><span class="line">  email.className = test ? <span class="string">"valid"</span> : <span class="string">"invalid"</span>;</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// This defines what happens when the user types in the field</span></span><br><span class="line">addEvent(email, <span class="string">"input"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> test = email.value.length === <span class="number">0</span> || emailRegExp.test(email.value);</span><br><span class="line">  <span class="keyword">if</span> (test) {</span><br><span class="line">    email.className = <span class="string">"valid"</span>;</span><br><span class="line">    error.innerHTML = <span class="string">""</span>;</span><br><span class="line">    error.className = <span class="string">"error"</span>;</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    email.className = <span class="string">"invalid"</span>;</span><br><span class="line">  }</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// This defines what happens when the user tries to submit the data</span></span><br><span class="line">addEvent(form, <span class="string">"submit"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> test = email.value.length === <span class="number">0</span> || emailRegExp.test(email.value);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!test) {</span><br><span class="line">    email.className = <span class="string">"invalid"</span>;</span><br><span class="line">    error.innerHTML = <span class="string">"I expect an e-mail, darling!"</span>;</span><br><span class="line">    error.className = <span class="string">"error active"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Some legacy browsers do not support the event.preventDefault() method</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    email.className = <span class="string">"valid"</span>;</span><br><span class="line">    error.innerHTML = <span class="string">""</span>;</span><br><span class="line">    error.className = <span class="string">"error"</span>;</span><br><span class="line">  }</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p>The result looks like this:</p>
<p><a href="web/css/styl/forms2/web_css_forms_vali_js_email_msg3.html" target="_blank">See Live Here</a></p>
<h2 id="remote-validation"><a class="markdownIt-Anchor" href="#remote-validation"></a> Remote validation</h2>
<p>In some cases, it can be useful to perform some remote validation. This kind of validation is necessary when the data entered by the user is tied to additional data stored on the server side of your application. One use case for this is registration forms, where you ask for a username. To avoid duplication, it’s smarter to perform an AJAX request to check the availability of the username rather than asking the user to send the data and then sending back the form with an error.</p>
<p>Performing such a validation requires taking a few precautions:</p>
<ul>
<li>It requires exposing an API and some data publicly; be sure it is not sensitive data.</li>
<li>Network lag requires performing asynchronous validation. This requires some UI work in order to be sure that the user will not be blocked if the validation is not performed properly.</li>
</ul>
<h2 id="references"><a class="markdownIt-Anchor" href="#references"></a> REFERENCES</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API/Constraint_validation">constraint validation API</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/HTML/HTML5/Constraint_validation#Constraint_API's_element.setCustomValidity()">https://developer.mozilla.org/en-US/docs/HTML/HTML5/Constraint_validation#Constraint_API’s_element.setCustomValidity()</a></li>
<li>Standalone library
<ul>
<li><a target="_blank" rel="noopener" href="http://rickharrison.github.com/validate.js/">Validate.js</a></li>
</ul>
</li>
<li>jQuery plug-in:
<ul>
<li><a target="_blank" rel="noopener" href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/">Validation</a></li>
</ul>
</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Joaxin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://u.pinsflora.xyz/Web/js/web_js_validation/">https://u.pinsflora.xyz/Web/js/web_js_validation/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Javascript/">Javascript</a></div><div class="post_share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_wechat"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_facebook_messenger"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/Web/js/web_js_oojs/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_sea_stairs.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Object-oriented(OOJS)</div></div></a></div><div class="next-post pull-right"><a href="/Web/js/web_js_string/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_seeds.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">JavaScript Strings</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/Web/html/web_html_Drag_ Drop/" title="HTML Drag & Drop"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_little_girl_phone.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-05-21</div><div class="title">HTML Drag & Drop</div></div></a></div><div><a href="/Web/js/WEB_js_pos/" title="JS Sizes and Scrolling"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_tree_dawnlights.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-09-01</div><div class="title">JS Sizes and Scrolling</div></div></a></div><div><a href="/Web/js/WEB_js_window/" title="BROWSER 对象"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_seeds.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2020-09-01</div><div class="title">BROWSER 对象</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://avatars2.githubusercontent.com/u/8346164?s=460&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Joaxin</div><div class="author-info__description">When I close my eyes, I'm in my own ♡cean 🐟aves.</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">268</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">90</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">33</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/joaxin"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/joaxin" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:lotility@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">感謝訪問本站，若喜歡請收藏 ^_^</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#what-is-form-validation"><span class="toc-number">1.</span> <span class="toc-text"> What is form validation?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#built-in-form-validation"><span class="toc-number">2.</span> <span class="toc-text"> Built-in form validation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#validating-against-a-regular-expression"><span class="toc-number">2.1.</span> <span class="toc-text"> Validating against a regular expression</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#constraining-the-length-of-your-entries"><span class="toc-number">2.2.</span> <span class="toc-text"> Constraining the length of your entries</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#js"><span class="toc-number">3.</span> <span class="toc-text"> JS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pprevent-the-default"><span class="toc-number">3.1.</span> <span class="toc-text"> p\Prevent the default</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#textarea"><span class="toc-number">3.2.</span> <span class="toc-text"> TextArea</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#the-constraint-validation-api"><span class="toc-number">4.</span> <span class="toc-text"> The constraint validation API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#example-using-the-constraint-validation-api"><span class="toc-number">4.1.</span> <span class="toc-text"> Example using the constraint validation API</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#javascript"><span class="toc-number">4.1.0.1.</span> <span class="toc-text"> JavaScript</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#validating-forms-without-a-built-in-api"><span class="toc-number">5.</span> <span class="toc-text"> Validating forms without a built-in API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#an-example-that-doesnt-use-the-constraint-validation-api"><span class="toc-number">5.0.1.</span> <span class="toc-text"> An example that doesn’t use the constraint validation API</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#javascript-2"><span class="toc-number">5.0.1.1.</span> <span class="toc-text"> JavaScript</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#remote-validation"><span class="toc-number">6.</span> <span class="toc-text"> Remote validation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#references"><span class="toc-number">7.</span> <span class="toc-text"> REFERENCES</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/Life/apps/life_apps_android_list/" title="安卓 | 装机必备清单及习惯步骤"><img src="https://i.postimg.cc/KYPmhV8w/android-new-logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安卓 | 装机必备清单及习惯步骤"/></a><div class="content"><a class="title" href="/Life/apps/life_apps_android_list/" title="安卓 | 装机必备清单及习惯步骤">安卓 | 装机必备清单及习惯步骤</a><time datetime="2020-06-20T04:29:10.462Z" title="Created 2020-06-20 12:29:10">2020-06-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pysnista/Intro/files/py_pillow/" title="Python - 操作图像"><img src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_writing-letters-french.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - 操作图像"/></a><div class="content"><a class="title" href="/Pysnista/Intro/files/py_pillow/" title="Python - 操作图像">Python - 操作图像</a><time datetime="2020-05-02T16:00:00.000Z" title="Created 2020-05-03 00:00:00">2020-05-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pysnista/Intro/files/py_files_pdf_word/" title="Python - PDF &amp; Word"><img src="https://i.loli.net/2020/07/09/6ALoRXnITgcuvy2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - PDF &amp; Word"/></a><div class="content"><a class="title" href="/Pysnista/Intro/files/py_files_pdf_word/" title="Python - PDF &amp; Word">Python - PDF &amp; Word</a><time datetime="2020-04-12T16:00:00.000Z" title="Created 2020-04-13 00:00:00">2020-04-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pysnista/Intro/files/py_shutil_zip/" title="Python Shutil &amp; Zip"><img src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_tree_dawnlights.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python Shutil &amp; Zip"/></a><div class="content"><a class="title" href="/Pysnista/Intro/files/py_shutil_zip/" title="Python Shutil &amp; Zip">Python Shutil &amp; Zip</a><time datetime="2020-02-23T16:00:00.000Z" title="Created 2020-02-24 00:00:00">2020-02-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Pysnista/Intro/files/py_subprocess/" title="Python Subprocess"><img src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_tree_dawnlights.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python Subprocess"/></a><div class="content"><a class="title" href="/Pysnista/Intro/files/py_subprocess/" title="Python Subprocess">Python Subprocess</a><time datetime="2020-02-23T16:00:00.000Z" title="Created 2020-02-24 00:00:00">2020-02-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_stars_man_orchard_photos.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Joaxin</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Refine, the Life</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="fasle"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/fae45343.js","daovoice")
</script><script>var isChatBtn = true
daovoice('init', {
  app_id: 'fae45343',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // 悬浮 ICON 是否显示
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (true) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // 悬浮 ICON 是否显示
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // 悬浮 ICON 是否显示
        },
      });
    }
  }
}</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>