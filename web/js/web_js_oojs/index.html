<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Object-oriented(OOJS) | Pinsflora</title><meta name="description" content="To start with, let’s give you a simplistic, high-level view of what Object-oriented programming (OOP) is. The basic idea of OOP is that we use objects to model real world things that we want to repres"><meta name="keywords" content="Javascript"><meta name="author" content="Joaxin"><meta name="copyright" content="Joaxin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://u.pinsflora.com/web/js/web_js_oojs/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Object-oriented(OOJS)"><meta property="og:url" content="https://u.pinsflora.com/web/js/web_js_oojs/"><meta property="og:site_name" content="Pinsflora"><meta property="og:description" content="To start with, let’s give you a simplistic, high-level view of what Object-oriented programming (OOP) is. The basic idea of OOP is that we use objects to model real world things that we want to repres"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_red_dim_flower.jpg"><meta property="article:published_time" content="2017-12-20T16:00:00.000Z"><meta property="article:modified_time" content="2019-08-31T16:00:00.000Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-177831205-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-177831205-1');
</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.1.1',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime: 'days',
  date_suffix: {"one_hour":"Just","hours":"hours ago","day":"days ago"},
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
    },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2019-09-01 00:00:00'
}</script><noscript><style type="text/css">
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.1.1"><link rel="alternate" href="/atom.xml" title="Pinsflora" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://avatars2.githubusercontent.com/u/8346164?s=460&amp;v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">272</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">98</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">31</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-file-image-o"></i><span> Galleries</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-film"></i><span> Movie</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Games</span></a></li><li><a class="site-page" href="/tools/"><i class="fa-fw fas fa-wrench"></i><span> Tools</span></a></li></ul></div></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#constructor-functions"><span class="toc-number">1.</span> <span class="toc-text"> Constructor functions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#object"><span class="toc-number">2.</span> <span class="toc-text"> Object</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#types"><span class="toc-number">3.</span> <span class="toc-text"> Types</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#prototypes"><span class="toc-number">4.</span> <span class="toc-text"> Prototypes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#prototypal-inheritance"><span class="toc-number">5.</span> <span class="toc-text"> Prototypal inheritance</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ecmascript-classes"><span class="toc-number">6.</span> <span class="toc-text"> ECMAScript Classes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#references"><span class="toc-number">7.</span> <span class="toc-text"> REFERENCES</span></a></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_red_dim_flower.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Pinsflora</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-file-image-o"></i><span> Galleries</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-film"></i><span> Movie</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Games</span></a></li><li><a class="site-page" href="/tools/"><i class="fa-fw fas fa-wrench"></i><span> Tools</span></a></li></ul></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Object-oriented(OOJS)</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2017-12-20T16:00:00.000Z" title="Created 2017-12-21 00:00:00">2017-12-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2019-08-31T16:00:00.000Z" title="Updated 2019-09-01 00:00:00">2019-09-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web/">Web</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web/Intro/">Intro</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">3.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>19min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>To start with, let’s give you a simplistic, high-level view of what Object-oriented programming (OOP) is. The basic idea of OOP is that we use objects to model real world things that we want to represent inside our programs, and/or provide a simple way to access functionality that would otherwise be hard or impossible to make use of.</p>
<p>Objects can contain related data and code, which represent information about the thing you are trying to model, and functionality or behavior that you want it to have.</p>
<p>To start this off, we  define the generic data and functionality of a person. There are lots of things you <em>could</em> know about a person (their address, height, shoe size, DNA profile, passport number, significant personality traits …) , but in this case we are only interested in showing their name, age, gender, and interests, and we also want to be able to write a short introduction about them based on this data, and get them to say hello. This is known as <strong>abstraction</strong> — creating a simple model of a more complex thing, which represents its most important aspects in a way that is easy to work with for our program’s purposes.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line"> name: <span class="string">&quot;John&quot;</span>, <span class="attr">age</span>: <span class="number">31</span>, </span><br><span class="line"> favColor: <span class="string">&quot;green&quot;</span>, <span class="attr">height</span>: <span class="number">183</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="constructor-functions"><a class="markdownIt-Anchor" href="#constructor-functions"></a> Constructor functions</h2>
<p>JavaScript uses special functions called <strong>constructor functions</strong> to define and initialize objects and their features. They are useful because you’ll often come across situations in which you don’t know how many objects you will be creating; constructors provide the means to create as many objects as you need in an effective way, attaching data and functions to them as required.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params">name, age, color</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.favColor = color;</span><br><span class="line">  <span class="built_in">this</span>.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">this</span>.changeName = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.yearOfBirth = bornYear;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bornYear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2020</span> - <span class="built_in">this</span>.age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> John = <span class="keyword">new</span> person(<span class="string">&quot;John&quot;</span>, <span class="number">44</span>, <span class="string">&quot;green&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(John.age); <span class="comment">// Outputs 42</span></span><br><span class="line">John.changeName(<span class="string">&quot;Amy&quot;</span>);</span><br><span class="line"><span class="comment">//Now John.name equals to &quot;Amy&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(John.yearOfBirth());</span><br><span class="line"><span class="comment">// 1976</span></span><br></pre></td></tr></table></figure>
<h2 id="object"><a class="markdownIt-Anchor" href="#object"></a> Object</h2>
<p>You can also use the <code>Object()</code> constructor to create a new object.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Chris  = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">Chris.name = <span class="string">&#x27;Chris&#x27;</span>;</span><br><span class="line">Chris[<span class="string">&#x27;age&#x27;</span>] = <span class="number">38</span>;</span><br><span class="line">Chris.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Chris = <span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">  name: <span class="string">&#x27;Chris&#x27;</span>,</span><br><span class="line">  age: <span class="number">38</span>,</span><br><span class="line">  greeting: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>JavaScript has a built-in method called <code>create()</code> that allows you to  create a new object based on any existing object.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let Chris2 &#x3D; Object.create(Chris);</span><br></pre></td></tr></table></figure>
<h2 id="types"><a class="markdownIt-Anchor" href="#types"></a> Types</h2>
<p>JavaScript is a “dynamically typed language”, which means that, unlike some other languages, you don’t need to specify what data type a variable will contain (numbers, strings, arrays, etc).</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;John&quot;</span> 						<span class="comment">// String(&quot;string&quot;)</span></span><br><span class="line"><span class="keyword">typeof</span> (<span class="number">3.14</span>) 						<span class="comment">// Number(&quot;number&quot;)</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span>  						<span class="comment">// Boolean()</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>] 					<span class="comment">// Object()</span></span><br><span class="line"><span class="keyword">typeof</span> (&#123;<span class="attr">name</span>:<span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>:<span class="number">34</span>&#125;) 		<span class="comment">// Object()</span></span><br><span class="line"><span class="keyword">typeof</span> (<span class="keyword">new</span> <span class="built_in">Date</span>())  				<span class="comment">// Object()</span></span><br><span class="line"><span class="keyword">typeof</span> (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;)				<span class="comment">// Function()</span></span><br><span class="line">type <span class="keyword">of</span> a                           <span class="comment">// Uncaught SyntaxError: Unexpected identifier</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;John&quot;</span>.constructor                   <span class="comment">// ƒ String() &#123; [native code] &#125;</span></span><br><span class="line">(<span class="number">3.14</span>).constructor                   <span class="comment">// Number()...</span></span><br><span class="line"><span class="literal">false</span>.constructor                    <span class="comment">// Boolean()...</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].constructor                <span class="comment">// Array()...</span></span><br><span class="line">(&#123;<span class="attr">name</span>:<span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>:<span class="number">34</span>&#125;).constructor  <span class="comment">// Object()...</span></span><br><span class="line">(<span class="keyword">new</span> <span class="built_in">Date</span>()).constructor             <span class="comment">// Date()...</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;).constructor         <span class="comment">// Function()...</span></span><br><span class="line">a.constructor                        <span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;John&quot;</span>.constructor == <span class="built_in">String</span></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;John&quot;</span>.constructor == <span class="string">&quot;string&quot;</span></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;John&quot;</span> == <span class="string">&quot;string&quot;</span></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;John&quot;</span> == <span class="built_in">String</span></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;John&quot;</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>	<span class="comment">// false</span></span><br><span class="line">(<span class="number">3.14</span>) <span class="keyword">instanceof</span> <span class="built_in">Number</span>	<span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>	<span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>] <span class="keyword">instanceof</span> <span class="built_in">Array</span>	<span class="comment">// true</span></span><br><span class="line">(&#123;<span class="attr">name</span>:<span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>:<span class="number">34</span>&#125;) <span class="keyword">instanceof</span> <span class="built_in">Object</span>	<span class="comment">// true</span></span><br><span class="line">(<span class="keyword">new</span> <span class="built_in">Date</span>()) <span class="keyword">instanceof</span> <span class="built_in">Date</span>	<span class="comment">// true</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;) <span class="keyword">instanceof</span> <span class="built_in">Function</span>	<span class="comment">// true</span></span><br><span class="line">a.constructor <span class="keyword">instanceof</span> <span class="built_in">String</span>   <span class="comment">// Uncaught ReferenceError: a is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ALL TRUE</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="string">&quot;John&quot;</span>) === <span class="string">&#x27;[object String]&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="number">3.14</span>) === <span class="string">&#x27;[object Number]&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="literal">false</span>) === <span class="string">&#x27;[object Boolean]&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]) === <span class="string">&#x27;[object Array]&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(&#123;<span class="attr">name</span>:<span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>:<span class="number">34</span>&#125;) === <span class="string">&#x27;[object Object]&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Date</span>()) === <span class="string">&#x27;[object Date]&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString.call(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;) === <span class="string">&#x27;[object Function]&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="prototypes"><a class="markdownIt-Anchor" href="#prototypes"></a> Prototypes</h2>
<p>JavaScript is often described as a <strong>prototype-based language</strong> — to provide inheritance, objects can have a <strong>prototype object</strong>, which acts as a template object that it inherits methods and properties from.</p>
<p>Prototypes are the mechanism by which JavaScript objects inherit methods and properties from one another, this is often referred to as a <strong>prototype chain</strong>.</p>
<blockquote>
<p><strong>Note:</strong> It’s important to understand that there is a distinction between an object’s prototype (which is available via <code>Object.getPrototypeOf(obj)</code>, or via the deprecated <code>__proto__</code> property) and the <code>prototype</code> property on constructor functions. The former is the property on each instance, and the latter is the property on the constructor. That is, <code>Object.getPrototypeOf(new Foobar())</code> refers to the same object as <code>Foobar.prototype</code>.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.prototype</span></span><br><span class="line"><span class="comment">// person.prototype</span></span><br><span class="line"><span class="comment">// Chris2.__proto__</span></span><br></pre></td></tr></table></figure>
<p>Every constructor function has a prototype property whose value is an object containing a <code>constructor</code> property.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Chris1.constructor</span><br><span class="line">Chris2.constructor</span><br></pre></td></tr></table></figure>
<p>Try this in the console:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> John2 = <span class="keyword">new</span> John.constructor(<span class="string">&quot;John&quot;</span>, <span class="number">28</span>, <span class="string">&quot;pink&quot;</span>);</span><br><span class="line">John2.constructor.name <span class="comment">// person</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Note</strong>: The value of <code>constructor.name</code> can change (due to prototypical inheritance, binding, preprocessors, transpilers, etc.), so for more complex examples you’ll want to use the <code>instanceof</code> operator instead.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">first, last, age, gender, interests</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name = &#123;</span><br><span class="line">        <span class="string">&#x27;first&#x27;</span>: first,</span><br><span class="line">        <span class="string">&#x27;last&#x27;</span>: last</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    <span class="built_in">this</span>.interests = interests;</span><br><span class="line">    <span class="built_in">this</span>.bio = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// First define a string, and make it equal to the part of</span></span><br><span class="line">        <span class="comment">// the bio that we know will always be the same.</span></span><br><span class="line">        <span class="keyword">var</span> string = <span class="built_in">this</span>.name.first + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name.last + <span class="string">&#x27; is &#x27;</span> + <span class="built_in">this</span>.age + <span class="string">&#x27; years old. &#x27;</span>;</span><br><span class="line">        <span class="comment">// define a variable that will contain the pronoun part of</span></span><br><span class="line">        <span class="comment">// the second sentence</span></span><br><span class="line">        <span class="keyword">var</span> pronoun;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// check what the value of gender is, and set pronoun</span></span><br><span class="line">        <span class="comment">// to an appropriate value in each case</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.gender === <span class="string">&#x27;male&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;Male&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;m&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;M&#x27;</span>) &#123;</span><br><span class="line">            pronoun = <span class="string">&#x27;He likes &#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.gender === <span class="string">&#x27;female&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;Female&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;f&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;F&#x27;</span>) &#123;</span><br><span class="line">            pronoun = <span class="string">&#x27;She likes &#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pronoun = <span class="string">&#x27;They like &#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add the pronoun string on to the end of the main string</span></span><br><span class="line">        string += pronoun;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// use another conditional to structure the last part of the</span></span><br><span class="line">        <span class="comment">// second sentence depending on whether the number of interests</span></span><br><span class="line">        <span class="comment">// is 1, 2, or 3</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.interests.length === <span class="number">1</span>) &#123;</span><br><span class="line">            string += <span class="built_in">this</span>.interests[<span class="number">0</span>] + <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.interests.length === <span class="number">2</span>) &#123;</span><br><span class="line">            string += <span class="built_in">this</span>.interests[<span class="number">0</span>] + <span class="string">&#x27; and &#x27;</span> + <span class="built_in">this</span>.interests[<span class="number">1</span>] + <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// if there are more than 2 interests, we loop through them</span></span><br><span class="line">            <span class="comment">// all, adding each one to the main string followed by a comma,</span></span><br><span class="line">            <span class="comment">// except for the last one, which needs an and &amp; a full stop</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.interests.length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i === <span class="built_in">this</span>.interests.length - <span class="number">1</span>) &#123;</span><br><span class="line">                    string += <span class="string">&#x27;and &#x27;</span> + <span class="built_in">this</span>.interests[i] + <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    string += <span class="built_in">this</span>.interests[i] + <span class="string">&#x27;, &#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// finally, with the string built, we alert() it</span></span><br><span class="line">        alert(string);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">this</span>.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name.first + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;Tammi&#x27;</span>, <span class="string">&#x27;Smith&#x27;</span>, <span class="number">32</span>, <span class="string">&#x27;neutral&#x27;</span>, [<span class="string">&#x27;music&#x27;</span>, <span class="string">&#x27;skiing&#x27;</span>, <span class="string">&#x27;kickboxing&#x27;</span>]);</span><br><span class="line">person1.farewell(); <span class="comment">// Uncaught TypeError: person1.farewell is not a function</span></span><br><span class="line">Person.prototype.farewell = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="built_in">this</span>.name.first + <span class="string">&#x27; has left the building. Bye for now!&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line">person1.farewell(); <span class="comment">// Tammi has left the building. Bye for now!</span></span><br><span class="line">Person.prototype.fullName = <span class="built_in">this</span>.name.first + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name.last; <span class="comment">// &quot;undefined undefined&quot;</span></span><br><span class="line">Person.prototype.fullName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">&#x27;Hi! I\&#x27;m &#x27;</span> + <span class="built_in">this</span>.name.first + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name.last);</span><br><span class="line">&#125;;</span><br><span class="line">person1.fullName() <span class="comment">// Hi! I&#x27;m Tammi Smith</span></span><br></pre></td></tr></table></figure>
<h2 id="prototypal-inheritance"><a class="markdownIt-Anchor" href="#prototypal-inheritance"></a> Prototypal inheritance</h2>
<p>So far we have seen some inheritance in action — we have seen how prototype chains work, and how members are inherited going up a chain. But mostly this has involved built-in browser functions. How do we create an object in JavaScript that inherits from another object?</p>
<p>Let’s explore how to do this with a concrete example.</p>
<p><a href="/web/js/oo/web_js_oojs_inhertance.html" target="_blank">See Live Here</a></p>
<p>Say we wanted to create a <code>Teacher</code> class, like the one we described in our initial object-oriented definition, which inherits all the members from <code>Person</code>, but also includes:</p>
<ol>
<li>A new property, <code>subject</code> — this will contain the subject the teacher teaches.</li>
<li>An updated <code>greeting()</code> method, which sounds a bit more formal than the standard <code>greeting()</code> method — more suitable for a teacher addressing some students at school.</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Teacher</span>(<span class="params">first, last, age, gender, interests, subject</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="built_in">this</span>, first, last, age, gender, interests);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">this</span>.subject = subject;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(Teacher.prototype) <span class="comment">// Array [ &quot;constructor&quot; ]</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(Person.prototype) <span class="comment">// Array(4) [ &quot;constructor&quot;, &quot;bio&quot;, &quot;greeting&quot;, &quot;farewell&quot; ]</span></span><br><span class="line">Person.prototype.greeting <span class="comment">// greeting()...</span></span><br><span class="line">Teacher.prototype.greeting <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>Here our friend <code>create()</code> comes to the rescue again.</p>
<p>After adding the last line, <code>Teacher.``prototype</code>'s <code>constructor</code> property is now equal to <code>Person()</code>, because we just set <code>Teacher.prototype</code> to reference an object that inherits its properties from <code>Person.prototype</code>!</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Teacher.prototype = <span class="built_in">Object</span>.create(Person.prototype);</span><br><span class="line">Teacher.prototype.constructor <span class="comment">// function Person(first, last, age, gender, interests)</span></span><br></pre></td></tr></table></figure>
<p>This can become a problem, so we need to set this right. You can do so  by going back to your source code and adding the following line at the  bottom:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(Teacher.prototype, <span class="string">&#x27;constructor&#x27;</span>, &#123; </span><br><span class="line">    value: Teacher, </span><br><span class="line">    enumerable: <span class="literal">false</span>, <span class="comment">// so that it does not appear in &#x27;for in&#x27; loop</span></span><br><span class="line">    writable: <span class="literal">true</span> &#125;);</span><br></pre></td></tr></table></figure>
<p>Now if you save and refresh, entering <code>Teacher.prototype.constructor</code> should return <code>Teacher()</code>, as desired, plus we are now inheriting from <code>Person()</code>!</p>
<p>To finish off our code, we need to define a new <code>greeting()</code> function on the <code>Teacher()</code> constructor.</p>
<p>The easiest way to do this is to define it on <code>Teacher()</code>'s prototype — add the following at the bottom of your code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Teacher.prototype.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> prefix;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.gender === <span class="string">&#x27;male&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;Male&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;m&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;M&#x27;</span>) &#123;</span><br><span class="line">    prefix = <span class="string">&#x27;Mr.&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.gender === <span class="string">&#x27;female&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;Female&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;f&#x27;</span> || <span class="built_in">this</span>.gender === <span class="string">&#x27;F&#x27;</span>) &#123;</span><br><span class="line">    prefix = <span class="string">&#x27;Ms.&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    prefix = <span class="string">&#x27;Mx.&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  alert(<span class="string">&#x27;Hello. My name is &#x27;</span> + prefix + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.name.last + <span class="string">&#x27;, and I teach &#x27;</span> + <span class="built_in">this</span>.subject + <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Now, let us try the example out,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> teacher1 = <span class="keyword">new</span> Teacher(<span class="string">&#x27;Dave&#x27;</span>, <span class="string">&#x27;Griffiths&#x27;</span>, <span class="number">31</span>, <span class="string">&#x27;male&#x27;</span>, [<span class="string">&#x27;football&#x27;</span>, <span class="string">&#x27;cookery&#x27;</span>], <span class="string">&#x27;mathematics&#x27;</span>); </span><br><span class="line">teacher1.name.first;  <span class="comment">// &quot;Dave&quot;</span></span><br><span class="line">teacher1.interests[<span class="number">0</span>];  <span class="comment">// &quot;football&quot;</span></span><br><span class="line">teacher1.bio();  <span class="comment">// Dave Griffiths is 31 years old. He likes football and cookery.</span></span><br><span class="line">teacher1.subject;  <span class="comment">// &quot;mathematics&quot;</span></span><br><span class="line">teacher1.greeting(); <span class="comment">// Hello. My name is Mr. Griffiths, and I teach mathematics</span></span><br><span class="line">teacher1.farewell(); <span class="comment">// Dave has left the building. Bye for now</span></span><br></pre></td></tr></table></figure>
<h2 id="ecmascript-classes"><a class="markdownIt-Anchor" href="#ecmascript-classes"></a> ECMAScript Classes</h2>
<p>ECMAScript 2015 introduces class syntax to JavaScript as a way to write reusable classes using easier, cleaner syntax, which is more similar to classes in C++ or Java.</p>
<p>Let’s look at a rewritten version of the Person example, class-style:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(first, last, age, gender, interests) &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = &#123;</span><br><span class="line">      first,</span><br><span class="line">      last</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    <span class="built_in">this</span>.interests = interests;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  greeting() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hi! I&#x27;m <span class="subst">$&#123;<span class="built_in">this</span>.name.first&#125;</span>`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  farewell() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name.first&#125;</span> has left the building. Bye for now!`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The class statement indicates that we are creating a new class. Inside this block, we define all the features of the class:</p>
<ul>
<li>The constructor method defines the constructor function that represents our Person class.</li>
<li>greeting and farewell are class methods. Any methods you want associated with the class are defined inside it, after the constructor. In this example, we’ve used template literals rather than string concatenation to make the code easier to read.</li>
</ul>
<p>We can now instantiate object instances using the <code>new</code> operator, in just the same way as we did before:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> han = <span class="keyword">new</span> Person(<span class="string">&#x27;Han&#x27;</span>, <span class="string">&#x27;Solo&#x27;</span>, <span class="number">25</span>, <span class="string">&#x27;male&#x27;</span>, [<span class="string">&#x27;Smuggling&#x27;</span>]);</span><br><span class="line">han.greeting();</span><br><span class="line"><span class="comment">// Hi! I&#x27;m Han</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> leia = <span class="keyword">new</span> Person(<span class="string">&#x27;Leia&#x27;</span>, <span class="string">&#x27;Organa&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;female&#x27;</span>, [<span class="string">&#x27;Government&#x27;</span>]);</span><br><span class="line">leia.farewell();</span><br><span class="line"><span class="comment">// Leia has left the building. Bye for now</span></span><br></pre></td></tr></table></figure>
<p>Above we created a class to represent a person. They have a series of attributes that are common to all people; in this section we’ll create  our specialized <code>Teacher</code> class, making it inherit from <code>Person</code> using modern class syntax. This is called creating a subclass or subclassing.</p>
<p>To create a subclass we use the extends keyword to tell JavaScript the class we want to base our class on,</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(subject, grade) &#123;</span><br><span class="line">    <span class="built_in">this</span>.subject = subject;</span><br><span class="line">    <span class="built_in">this</span>.grade = grade;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>but there’s a little catch.</p>
<p>Unlike old-school constructor functions where the <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new"><code>new</code> operator</a> does the initialization of <code>this</code> to a newly-allocated object, this isn’t automatically initialized for a class defined by the <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends">extends</a> keyword, i.e the sub-classes.</p>
<p>Therefore running the above code will give an error:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Uncaught <span class="built_in">ReferenceError</span>: Must call <span class="built_in">super</span> <span class="keyword">constructor</span> in derived class before</span><br><span class="line">accessing &#x27;this&#x27; or returning from derived <span class="keyword">constructor</span></span><br></pre></td></tr></table></figure>
<p>For sub-classes, the <code>this</code> intialization to a newly  allocated object is always dependant on the parent class constructor,  i.e the constructor function of the class from which you’re extending.</p>
<p>Here we are extending the <code>Person</code> class — the <code>Teacher</code> sub-class is an extension of the <code>Person</code> class. So for <code>Teacher</code>, the <code>this</code> initialization is done by the <code>Person</code> constructor.</p>
<p>To call the parent constructor we have to use the <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super"><code>super()</code> operator</a>, like so:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(subject, grade) &#123; </span><br><span class="line">    <span class="built_in">super</span>(); <span class="comment">// Now &#x27;this&#x27; is initialized by calling the parent constructor.</span></span><br><span class="line">    <span class="built_in">this</span>.subject = subject;   </span><br><span class="line">    <span class="built_in">this</span>.grade = grade; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>There is no point having a sub-class if it doesn’t inherit properties from the parent class.<br />
It is good then, that the <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super"><code>super()</code> operator</a> also accepts arguments for the parent constructor.</p>
<p>Looking back to our <code>Person</code> constructor, we can see it has the following block of code in its constructor method:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">constructor</span>(first, last, age, gender, interests) &#123; </span><br><span class="line">   <span class="built_in">this</span>.name = &#123;   </span><br><span class="line">     first,   </span><br><span class="line">     last   </span><br><span class="line">   &#125;; </span><br><span class="line">   <span class="built_in">this</span>.age = age; </span><br><span class="line">   <span class="built_in">this</span>.gender = gender;   </span><br><span class="line">   <span class="built_in">this</span>.interests = interests; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>Since the <code>super()</code> operator is actually the parent class constructor, passing it the necessary arguments of the <code>Parent</code> class constructor will also initialize the parent class properties in our sub-class, thereby inheriting it:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(first, last, age, gender, interests, subject, grade) &#123;</span><br><span class="line">    <span class="built_in">super</span>(first, last, age, gender, interests);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// subject and grade are specific to Teacher</span></span><br><span class="line">    <span class="built_in">this</span>.subject = subject;</span><br><span class="line">    <span class="built_in">this</span>.grade = grade;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now when we instantiate <code>Teacher</code> object instances, we can call methods and properties defined on both <code>Teacher</code>and <code>Person</code> as we’d expect:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> snape = <span class="keyword">new</span> Teacher(<span class="string">&#x27;Severus&#x27;</span>, <span class="string">&#x27;Snape&#x27;</span>, <span class="number">58</span>, <span class="string">&#x27;male&#x27;</span>, [<span class="string">&#x27;Potions&#x27;</span>], <span class="string">&#x27;Dark arts&#x27;</span>, <span class="number">5</span>);</span><br><span class="line">snape.greeting(); <span class="comment">// Hi! I&#x27;m Severus.</span></span><br><span class="line">snape.farewell(); <span class="comment">// Severus has left the building. Bye for now.</span></span><br><span class="line">snape.age <span class="comment">// 58</span></span><br><span class="line">snape.subject; <span class="comment">// Dark arts</span></span><br></pre></td></tr></table></figure>
<p>Like we did with Teachers, we could create other subclasses of <code>Person</code> to make them more specialized without modifying the base class.</p>
<p>There may be times when we want to change the values of an attribute  in the classes we create or we don’t know what the final value of an  attribute will be. Using the <code>Teacher</code> example, we may not know what subject the teacher will teach before we create them, or their subject may change between terms.</p>
<p>We can handle such situations with getters and setters.</p>
<p>Let’s enhance the Teacher class with getters and setters. The class starts the same as it was the last time we looked at it.</p>
<p>Getters and setters work in pairs. A getter returns the current value of the variable and its corresponding setter changes the value of the  variable to the one it defines.</p>
<p>The modified <code>Teacher</code> class looks like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(first, last, age, gender, interests, subject, grade) &#123;</span><br><span class="line">    <span class="built_in">super</span>(first, last, age, gender, interests);</span><br><span class="line">    <span class="comment">// subject and grade are specific to Teacher</span></span><br><span class="line">    <span class="built_in">this</span>._subject = subject;</span><br><span class="line">    <span class="built_in">this</span>.grade = grade;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> <span class="title">subject</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>._subject;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title">subject</span>(<span class="params">newSubject</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>._subject = newSubject;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>In our class above we have a getter and setter for the <code>subject</code> property. We use <strong><code>_</code></strong>  to create a separate value in which to store our name property. Without using this convention, we would get errors every time we called get or  set. At this point:</p>
<ul>
<li>To show the current value of the <code>_subject</code> property of the <code>snape</code> object we can use the <code>snape.subject</code> getter method.</li>
<li>To assign a new value to the <code>_subject</code> property we can use the <code>snape.subject=&quot;new value&quot;</code> setter method.</li>
</ul>
<p>The example below shows the two features in action:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Check the default value</span></span><br><span class="line"><span class="built_in">console</span>.log(snape.subject) <span class="comment">// Returns &quot;Dark arts&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Change the value</span></span><br><span class="line">snape.subject = <span class="string">&quot;Balloon animals&quot;</span> <span class="comment">// Sets _subject to &quot;Balloon animals&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Check it again and see if it matches the new value</span></span><br><span class="line"><span class="built_in">console</span>.log(snape.subject) <span class="comment">// Returns &quot;Balloon animals&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="references"><a class="markdownIt-Anchor" href="#references"></a> REFERENCES</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Basics">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Basics</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object-oriented_JS</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes">https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes</a></li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Joaxin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://u.pinsflora.com/web/js/web_js_oojs/">https://u.pinsflora.com/web/js/web_js_oojs/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Javascript/">Javascript</a></div><div class="post_share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_wechat"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_facebook_messenger"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/web/js/web_js_jqery/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_tree_dawnlights.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">JQery</div></div></a></div><div class="next-post pull-right"><a href="/web/js/web_js_string/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_tree_dawnlights.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">JavaScript Strings</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/web/js/web_js_array/" title="JavaScript Array"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_forests.jpg"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-09-01</div><div class="title">JavaScript Array</div></div></a></div><div><a href="/web/js/web_js_jqery/" title="JQery"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_tree_dawnlights.jpg"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-09-01</div><div class="title">JQery</div></div></a></div><div><a href="/Pysnista/Algor/Basic/coding_sum_1_100/" title="简单算法"><img class="cover" src="https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_erol-ahmed-unsplash.jpg"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2019-11-28</div><div class="title">简单算法</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div></div></div></div></article></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/joaxin/img_bed/img/cover/cover_red_dim_flower.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Joaxin</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Refine, the Life</div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    $.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js', function () {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="fasle"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/fae45343.js","daovoice")
</script><script>var isChatBtn = true
daovoice('init', {
  app_id: 'fae45343',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // 悬浮 ICON 是否显示
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (true) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // 悬浮 ICON 是否显示
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // 悬浮 ICON 是否显示
        },
      });
    }
  }
}</script></div></body></html>